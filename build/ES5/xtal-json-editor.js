(function(){var cs_src=self.xtal_json_editor?xtal_json_editor.href:document.currentScript.src,base=cs_src.split("/").slice(0,-1).join("/"),input="input",options="options",as="as",template=document.createElement("template"),css;fetch(base+"/jsoneditor.min.css",{credentials:"same-origin"}).then(function(resp){resp.text().then(function(content){var searchStr="img/jsoneditor-icons.svg";css=replaceAll(content,searchStr,base+"/"+searchStr);checkIfReady()})});var jsLoaded=!1,scriptTag=document.createElement("script");scriptTag.src=base+"/jsoneditor-minimalist.min.js";scriptTag.onload=function(){jsLoaded=!0;checkIfReady()};document.head.appendChild(scriptTag);function replaceAll(str,search,replace){return str.split(search).join(replace)}function checkIfReady(){if(jsLoaded&&css){template.innerHTML="\n            <style>\n            :host {\n                display: block;\n            }\n            ".concat(css,"\n            </style>\n            <div id=\"xcontainer\" style=\"height:100%;width:100%\"></div>            \n            ");initXtalJsonEditor()}}function initXtalJsonEditor(){var XtalJsonEditor=function(_HTMLElement){babelHelpers.inherits(XtalJsonEditor,_HTMLElement);function XtalJsonEditor(){var _this;babelHelpers.classCallCheck(this,XtalJsonEditor);_this=babelHelpers.possibleConstructorReturn(this,(XtalJsonEditor.__proto__||Object.getPrototypeOf(XtalJsonEditor)).call(this));_this._as="text";_this._connected=!1;_this.attachShadow({mode:"open"});_this.shadowRoot.appendChild(template.content.cloneNode(!0));return _this}babelHelpers.createClass(XtalJsonEditor,[{key:"_upgradeProperties",value:function _upgradeProperties(props){var _this2=this;props.forEach(function(prop){if(_this2.hasOwnProperty(prop)){var value=_this2[prop];delete _this2[prop];_this2[prop]=value}})}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldVal,newVal){switch(name){case input:case options:this[name]=JSON.parse(newVal);break;case as:this._as=newVal;break;}}},{key:"connectedCallback",value:function connectedCallback(){this._connected=!0;this._upgradeProperties([input,options,as]);this.onPropsChange()}},{key:"onPropsChange",value:function onPropsChange(){var _this3=this;if(!this._connected||!this._input||!this._options)return;if(!this._options.onChange){this.options.onChange=function(){var result=_this3._jsonEditor.get();if("text"===_this3.as)result=JSON.stringify(result);_this3._setEditedResult(result)}}var container=this.shadowRoot.querySelector("#xcontainer");container.innerHTML="";this._jsonEditor=new JSONEditor(container,this.options);this._jsonEditor.set(this._input)}},{key:"input",get:function get(){return this._input},set:function set(val){this._input=val;this.onPropsChange()}},{key:"options",get:function get(){return this._options},set:function set(val){this._options=val;this.onPropsChange()}},{key:"editedResult",get:function get(){return this._editedResult},set:function set(val){this._editedResult=val;var editedResultChangedEvent=new CustomEvent("edited-result-changed",{detail:{value:val},bubbles:!0,composed:!1});this.dispatchEvent(editedResultChangedEvent)}},{key:"as",get:function get(){return this._as},set:function set(val){this.setAttribute(as,val)}}],[{key:"is",get:function get(){return"xtal-json-editor"}},{key:"observedAttributes",get:function get(){return[input,options,as]}}]);return XtalJsonEditor}(HTMLElement);if(!customElements.get(XtalJsonEditor.is)){customElements.define(XtalJsonEditor.is,XtalJsonEditor)}}})();
(function(){function a(){if(!customElements.get("xtal-json-editor")){var a=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.cs=c,a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:"absolute",value:function(a,b){var c=a.split("/"),d=b.split("/");c.pop();for(var e=0;e<d.length;e++)"."!=d[e]&&(".."==d[e]?c.pop():c.push(d[e]));return c.join("/")}},{key:"downloadJSFilesInParallelButLoadInSequence",value:function(a){return new Promise(function(b){var c={},d=a.filter(function(a){return null!==a});d.forEach(function(a){c[a.src]=!0}),d.forEach(function(a){var d=document.createElement("script");d.src=a.src,d.async=!1,d.onload=function(){Object.keys(c).forEach(function(a){if(d.src.endsWith(a))return void delete c[a]}),0===Object.keys(c).length&&b()},document.head.appendChild(d)})})}},{key:"connectedCallback",value:function(){var a=this;if(babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"connectedCallback",this).call(this),"function"!==typeof JSONEditor){if(!this.jsLibPath)if(c)this.jsLibPath=this.absolute(c.src,"jsoneditor-minimalist.min.js");else throw"Not implemented yet";var d=[{src:this.jsLibPath}];this.downloadJSFilesInParallelButLoadInSequence(d).then(function(){a.loadedJS()})}this.cssPath||(c?this.cssPath=this.absolute(c.src,"jsoneditor.min.css"):this.cssPath="/bower_components/xtal-json-editor/jsoneditor.min.css")}},{key:"loadedCSS",value:function(){this._cssLoaded=!0,this.onPropsChange()}},{key:"loadedJS",value:function(){this._jsLoaded=!0,this.onPropsChange()}},{key:"onPropsChange",value:function(){var a=this;this.watch&&(!this.waitForOptions||this.options)&&this._cssLoaded&&this._jsLoaded&&(!this.options&&(this.options={}),!this.options.onChange&&(this.options.onChange=function(){var b=a._jsonEditor.get();"text"===a.as&&(b=JSON.stringify(b)),a._setEditedResult(b)}),this.$.xcontainer.innerHTML="",this._jsonEditor=new JSONEditor(this.$.xcontainer,this.options),this._jsonEditor.set(this.watch))}},{key:"jsonEditor",get:function(){return this._jsonEditor}}],[{key:"is",get:function(){return"xtal-json-editor"}},{key:"properties",get:function(){return{cssPath:{type:String},jsLibPath:{type:String},watch:{type:Object,observer:"onPropsChange"},options:{type:Object,observer:"onPropsChange"},waitForOptions:{type:Boolean,observer:"onPropsChange"},editedResult:{type:Object,notify:!0,readOnly:!0},as:{type:String,value:"text"},height:{type:String,value:"400px"},width:{type:String,value:"400px"}}}},{key:"template",get:function(){return"\n<link id=\"extCss\" on-load=\"loadedCSS\" async rel=\"stylesheet\" type=\"text/css\"  href=\"[[cssPath]]\">\n<div id=\"xcontainer\" style$=\"height:[[height]];width:[[width]]\"></div>\n                "}}]),b}(Polymer.Element);customElements.define(a.is,a)}}function b(){return"function"!==typeof Polymer||"function"!==typeof Polymer.Element?void setTimeout(b,100):void a()}var c;c=document.currentScript,b()})();
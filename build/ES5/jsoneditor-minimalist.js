(function(root,factory){if("object"===("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"object"===("undefined"===typeof module?"undefined":babelHelpers.typeof(module)))module.exports=factory();else if("function"===typeof define&&define.amd)define([],factory);else if("object"===("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports)))exports.JSONEditor=factory();else root.JSONEditor=factory()})(this,function(){var _Mathmax=Math.max;return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=!0;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var Ajv;try{Ajv=__webpack_require__(!function(){var e=new Error("Cannot find module \"ajv\"");e.code="MODULE_NOT_FOUND";throw e}())}catch(err){}var treemode=__webpack_require__(1),textmode=__webpack_require__(12),util=__webpack_require__(4);function JSONEditor(container,options,json){if(!babelHelpers.instanceof(this,JSONEditor)){throw new Error("JSONEditor constructor called without \"new\".")}var ieVersion=util.getInternetExplorerVersion();if(-1!=ieVersion&&9>ieVersion){throw new Error("Unsupported browser, IE9 or newer required. "+"Please install the newest version of your browser.")}if(options){if(options.error){console.warn("Option \"error\" has been renamed to \"onError\"");options.onError=options.error;delete options.error}if(options.change){console.warn("Option \"change\" has been renamed to \"onChange\"");options.onChange=options.change;delete options.change}if(options.editable){console.warn("Option \"editable\" has been renamed to \"onEditable\"");options.onEditable=options.editable;delete options.editable}if(options){var VALID_OPTIONS=["ace","theme","ajv","schema","onChange","onEditable","onError","onModeChange","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys"];Object.keys(options).forEach(function(option){if(-1===VALID_OPTIONS.indexOf(option)){console.warn("Unknown option \""+option+"\". This option will be ignored")}})}}if(arguments.length){this._create(container,options,json)}}JSONEditor.modes={};JSONEditor.prototype.DEBOUNCE_INTERVAL=150;JSONEditor.prototype._create=function(container,options,json){this.container=container;this.options=options||{};this.json=json||{};var mode=this.options.mode||"tree";this.setMode(mode)};JSONEditor.prototype.destroy=function(){};JSONEditor.prototype.set=function(json){this.json=json};JSONEditor.prototype.get=function(){return this.json};JSONEditor.prototype.setText=function(jsonText){this.json=util.parse(jsonText)};JSONEditor.prototype.getText=function(){return JSON.stringify(this.json)};JSONEditor.prototype.setName=function(name){if(!this.options){this.options={}}this.options.name=name};JSONEditor.prototype.getName=function(){return this.options&&this.options.name};JSONEditor.prototype.setMode=function(mode){var container=this.container,options=util.extend({},this.options),oldMode=options.mode,data,name;options.mode=mode;var config=JSONEditor.modes[mode];if(config){try{var asText="text"==config.data;name=this.getName();data=this[asText?"getText":"get"]();this.destroy();util.clear(this);util.extend(this,config.mixin);this.create(container,options);this.setName(name);this[asText?"setText":"set"](data);if("function"===typeof config.load){try{config.load.call(this)}catch(err){console.error(err)}}if("function"===typeof options.onModeChange&&mode!==oldMode){try{options.onModeChange(mode,oldMode)}catch(err){console.error(err)}}}catch(err){this._onError(err)}}else{throw new Error("Unknown mode \""+options.mode+"\"")}};JSONEditor.prototype.getMode=function(){return this.options.mode};JSONEditor.prototype._onError=function(err){if(this.options&&"function"===typeof this.options.onError){this.options.onError(err)}else{throw err}};JSONEditor.prototype.setSchema=function(schema){if(schema){var ajv;try{ajv=this.options.ajv||Ajv({allErrors:!0,verbose:!0})}catch(err){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(ajv){this.validateSchema=ajv.compile(schema);this.options.schema=schema;this.validate()}this.refresh()}else{this.validateSchema=null;this.options.schema=null;this.validate();this.refresh()}};JSONEditor.prototype.validate=function(){};JSONEditor.prototype.refresh=function(){};JSONEditor.registerMode=function(mode){var i,prop;if(util.isArray(mode)){for(i=0;i<mode.length;i++){JSONEditor.registerMode(mode[i])}}else{if(!("mode"in mode))throw new Error("Property \"mode\" missing");if(!("mixin"in mode))throw new Error("Property \"mixin\" missing");if(!("data"in mode))throw new Error("Property \"data\" missing");var name=mode.mode;if(name in JSONEditor.modes){throw new Error("Mode \""+name+"\" already registered")}if("function"!==typeof mode.mixin.create){throw new Error("Required function \"create\" missing on mixin")}var reserved=["setMode","registerMode","modes"];for(i=0;i<reserved.length;i++){prop=reserved[i];if(prop in mode.mixin){throw new Error("Reserved property \""+prop+"\" not allowed in mixin")}}JSONEditor.modes[name]=mode}};JSONEditor.registerMode(treemode);JSONEditor.registerMode(textmode);module.exports=JSONEditor},function(module,exports,__webpack_require__){"use strict";var _Mathmin=Math.min,Highlighter=__webpack_require__(2),History=__webpack_require__(3),SearchBox=__webpack_require__(6),ContextMenu=__webpack_require__(7),Node=__webpack_require__(8),ModeSwitcher=__webpack_require__(11),util=__webpack_require__(4),treemode={};treemode.create=function(container,options){if(!container){throw new Error("No container element provided.")}this.container=container;this.dom={};this.highlighter=new Highlighter;this.selection=void 0;this.multiselection={nodes:[]};this.validateSchema=null;this.errorNodes=[];this.node=null;this.focusTarget=null;this._setOptions(options);if(this.options.history&&"view"!==this.options.mode){this.history=new History(this)}this._createFrame();this._createTable()};treemode.destroy=function(){if(this.frame&&this.container&&this.frame.parentNode==this.container){this.container.removeChild(this.frame);this.frame=null}this.container=null;this.dom=null;this.clear();this.node=null;this.focusTarget=null;this.selection=null;this.multiselection=null;this.errorNodes=null;this.validateSchema=null;this._debouncedValidate=null;if(this.history){this.history.destroy();this.history=null}if(this.searchBox){this.searchBox.destroy();this.searchBox=null}if(this.modeSwitcher){this.modeSwitcher.destroy();this.modeSwitcher=null}};treemode._setOptions=function(options){this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null};if(options){for(var prop in options){if(options.hasOwnProperty(prop)){this.options[prop]=options[prop]}}}this.setSchema(this.options.schema);this._debouncedValidate=util.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL)};treemode.set=function(json,name){if(name){console.warn("Second parameter \"name\" is deprecated. Use setName(name) instead.");this.options.name=name}if(babelHelpers.instanceof(json,Function)||json===void 0){this.clear()}else{this.content.removeChild(this.table);var params={field:this.options.name,value:json},node=new Node(this,params);this._setRoot(node);this.validate();this.node.expand(!1);this.content.appendChild(this.table)}if(this.history){this.history.clear()}if(this.searchBox){this.searchBox.clear()}};treemode.get=function(){if(this.focusTarget){var node=Node.getNodeFromTarget(this.focusTarget);if(node){node.blur()}}if(this.node){return this.node.getValue()}else{}};treemode.getText=function(){return JSON.stringify(this.get())};treemode.setText=function(jsonText){this.set(util.parse(jsonText))};treemode.setName=function(name){this.options.name=name;if(this.node){this.node.updateField(this.options.name)}};treemode.getName=function(){return this.options.name};treemode.focus=function(){var input=this.content.querySelector("[contenteditable=true]");if(input){input.focus()}else if(this.node.dom.expand){this.node.dom.expand.focus()}else if(this.node.dom.menu){this.node.dom.menu.focus()}else{input=this.frame.querySelector("button");if(input){input.focus()}}};treemode.clear=function(){if(this.node){this.node.collapse();this.tbody.removeChild(this.node.getDom());delete this.node}};treemode._setRoot=function(node){this.clear();this.node=node;this.tbody.appendChild(node.getDom())};treemode.search=function(text){var results;if(this.node){this.content.removeChild(this.table);results=this.node.search(text);this.content.appendChild(this.table)}else{results=[]}return results};treemode.expandAll=function(){if(this.node){this.content.removeChild(this.table);this.node.expand();this.content.appendChild(this.table)}};treemode.collapseAll=function(){if(this.node){this.content.removeChild(this.table);this.node.collapse();this.content.appendChild(this.table)}};treemode._onAction=function(action,params){if(this.history){this.history.add(action,params)}this._onChange()};treemode._onChange=function(){this._debouncedValidate();if(this.options.onChange){try{this.options.onChange()}catch(err){console.error("Error in onChange callback: ",err)}}};treemode.validate=function(){if(this.errorNodes){this.errorNodes.forEach(function(node){node.setError(null)})}var root=this.node;if(!root){return}var duplicateErrors=root.validate(),schemaErrors=[];if(this.validateSchema){var valid=this.validateSchema(root.getValue());if(!valid){schemaErrors=this.validateSchema.errors.map(function(error){return util.improveSchemaError(error)}).map(function(error){return{node:root.findNode(error.dataPath),error:error}}).filter(function(entry){return null!=entry.node})}}this.errorNodes=duplicateErrors.concat(schemaErrors).reduce(function(all,entry){return entry.node.findParents().map(function(parent){return{node:parent,child:entry.node,error:{message:"object"===parent.type?"Contains invalid properties":"Contains invalid items"}}}).concat(all,[entry])},[]).map(function(entry){entry.node.setError(entry.error,entry.child);return entry.node})};treemode.refresh=function(){if(this.node){this.node.updateDom({recurse:!0})}};treemode.startAutoScroll=function(mouseY){var me=this,content=this.content,top=util.getAbsoluteTop(content),height=content.clientHeight,bottom=top+height,margin=24;if(mouseY<top+margin&&0<content.scrollTop){this.autoScrollStep=(top+margin-mouseY)/3}else if(mouseY>bottom-margin&&height+content.scrollTop<content.scrollHeight){this.autoScrollStep=(bottom-margin-mouseY)/3}else{this.autoScrollStep=void 0}if(this.autoScrollStep){if(!this.autoScrollTimer){this.autoScrollTimer=setInterval(function(){if(me.autoScrollStep){content.scrollTop-=me.autoScrollStep}else{me.stopAutoScroll()}},50)}}else{this.stopAutoScroll()}};treemode.stopAutoScroll=function(){if(this.autoScrollTimer){clearTimeout(this.autoScrollTimer);delete this.autoScrollTimer}if(this.autoScrollStep){delete this.autoScrollStep}};treemode.setSelection=function(selection){if(!selection){return}if("scrollTop"in selection&&this.content){this.content.scrollTop=selection.scrollTop}if(selection.nodes){this.select(selection.nodes)}if(selection.range){util.setSelectionOffset(selection.range)}if(selection.dom){selection.dom.focus()}};treemode.getSelection=function(){var range=util.getSelectionOffset();if(range&&"DIV"!==range.container.nodeName){range=null}return{dom:this.focusTarget,range:range,nodes:this.multiselection.nodes.slice(0),scrollTop:this.content?this.content.scrollTop:0}};treemode.scrollTo=function(top,callback){var content=this.content;if(content){var editor=this;if(editor.animateTimeout){clearTimeout(editor.animateTimeout);delete editor.animateTimeout}if(editor.animateCallback){editor.animateCallback(!1);delete editor.animateCallback}var height=content.clientHeight,bottom=content.scrollHeight-height,finalScrollTop=_Mathmin(_Mathmax(top-height/4,0),bottom),animate=function(){var scrollTop=content.scrollTop,diff=finalScrollTop-scrollTop;if(3<Math.abs(diff)){content.scrollTop+=diff/3;editor.animateCallback=callback;editor.animateTimeout=setTimeout(animate,50)}else{if(callback){callback(!0)}content.scrollTop=finalScrollTop;delete editor.animateTimeout;delete editor.animateCallback}};animate()}else{if(callback){callback(!1)}}};treemode._createFrame=function(){this.frame=document.createElement("div");this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode;this.container.appendChild(this.frame);var editor=this;function onEvent(event){if(editor._onEvent){editor._onEvent(event)}}this.frame.onclick=function(event){var target=event.target;onEvent(event);if("BUTTON"==target.nodeName){event.preventDefault()}};this.frame.oninput=onEvent;this.frame.onchange=onEvent;this.frame.onkeydown=onEvent;this.frame.onkeyup=onEvent;this.frame.oncut=onEvent;this.frame.onpaste=onEvent;this.frame.onmousedown=onEvent;this.frame.onmouseup=onEvent;this.frame.onmouseover=onEvent;this.frame.onmouseout=onEvent;util.addEventListener(this.frame,"focus",onEvent,!0);util.addEventListener(this.frame,"blur",onEvent,!0);this.frame.onfocusin=onEvent;this.frame.onfocusout=onEvent;this.menu=document.createElement("div");this.menu.className="jsoneditor-menu";this.frame.appendChild(this.menu);var expandAll=document.createElement("button");expandAll.type="button";expandAll.className="jsoneditor-expand-all";expandAll.title="Expand all fields";expandAll.onclick=function(){editor.expandAll()};this.menu.appendChild(expandAll);var collapseAll=document.createElement("button");collapseAll.type="button";collapseAll.title="Collapse all fields";collapseAll.className="jsoneditor-collapse-all";collapseAll.onclick=function(){editor.collapseAll()};this.menu.appendChild(collapseAll);if(this.history){var undo=document.createElement("button");undo.type="button";undo.className="jsoneditor-undo jsoneditor-separator";undo.title="Undo last action (Ctrl+Z)";undo.onclick=function(){editor._onUndo()};this.menu.appendChild(undo);this.dom.undo=undo;var redo=document.createElement("button");redo.type="button";redo.className="jsoneditor-redo";redo.title="Redo (Ctrl+Shift+Z)";redo.onclick=function(){editor._onRedo()};this.menu.appendChild(redo);this.dom.redo=redo;this.history.onChange=function(){undo.disabled=!editor.history.canUndo();redo.disabled=!editor.history.canRedo()};this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var me=this;this.modeSwitcher=new ModeSwitcher(this.menu,this.options.modes,this.options.mode,function(mode){me.modeSwitcher.destroy();me.setMode(mode);me.modeSwitcher.focus()})}if(this.options.search){this.searchBox=new SearchBox(this,this.menu)}};treemode._onUndo=function(){if(this.history){this.history.undo();this._onChange()}};treemode._onRedo=function(){if(this.history){this.history.redo();this._onChange()}};treemode._onEvent=function(event){if("keydown"==event.type){this._onKeyDown(event)}if("focus"==event.type){this.focusTarget=event.target}if("mousedown"==event.type){this._startDragDistance(event)}if("mousemove"==event.type||"mouseup"==event.type||"click"==event.type){this._updateDragDistance(event)}var node=Node.getNodeFromTarget(event.target);if(node&&node.selected){if("click"==event.type){if(event.target==node.dom.menu){this.showContextMenu(event.target);return}if(!event.hasMoved){this.deselect()}}if("mousedown"==event.type){Node.onDragStart(this.multiselection.nodes,event)}}else{if("mousedown"==event.type){this.deselect();if(node&&event.target==node.dom.drag){Node.onDragStart(node,event)}else if(!node||event.target!=node.dom.field&&event.target!=node.dom.value&&event.target!=node.dom.select){this._onMultiSelectStart(event)}}}if(node){node.onEvent(event)}};treemode._startDragDistance=function(event){this.dragDistanceEvent={initialTarget:event.target,initialPageX:event.pageX,initialPageY:event.pageY,dragDistance:0,hasMoved:!1}};treemode._updateDragDistance=function(event){if(!this.dragDistanceEvent){this._startDragDistance(event)}var diffX=event.pageX-this.dragDistanceEvent.initialPageX,diffY=event.pageY-this.dragDistanceEvent.initialPageY;this.dragDistanceEvent.dragDistance=Math.sqrt(diffX*diffX+diffY*diffY);this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance;event.dragDistance=this.dragDistanceEvent.dragDistance;event.hasMoved=this.dragDistanceEvent.hasMoved;return event.dragDistance};treemode._onMultiSelectStart=function(event){var node=Node.getNodeFromTarget(event.target);if("tree"!==this.options.mode||this.options.onEditable!==void 0){return}this.multiselection={start:node||null,end:null,nodes:[]};this._startDragDistance(event);var editor=this;if(!this.mousemove){this.mousemove=util.addEventListener(window,"mousemove",function(event){editor._onMultiSelect(event)})}if(!this.mouseup){this.mouseup=util.addEventListener(window,"mouseup",function(event){editor._onMultiSelectEnd(event)})}};treemode._onMultiSelect=function(event){event.preventDefault();this._updateDragDistance(event);if(!event.hasMoved){return}var node=Node.getNodeFromTarget(event.target);if(node){if(null==this.multiselection.start){this.multiselection.start=node}this.multiselection.end=node}this.deselect();var start=this.multiselection.start,end=this.multiselection.end||this.multiselection.start;if(start&&end){this.multiselection.nodes=this._findTopLevelNodes(start,end);this.select(this.multiselection.nodes)}};treemode._onMultiSelectEnd=function(){if(this.multiselection.nodes[0]){this.multiselection.nodes[0].dom.menu.focus()}this.multiselection.start=null;this.multiselection.end=null;if(this.mousemove){util.removeEventListener(window,"mousemove",this.mousemove);delete this.mousemove}if(this.mouseup){util.removeEventListener(window,"mouseup",this.mouseup);delete this.mouseup}};treemode.deselect=function(clearStartAndEnd){this.multiselection.nodes.forEach(function(node){node.setSelected(!1)});this.multiselection.nodes=[];if(clearStartAndEnd){this.multiselection.start=null;this.multiselection.end=null}};treemode.select=function(nodes){if(!Array.isArray(nodes)){return this.select([nodes])}if(nodes){this.deselect();this.multiselection.nodes=nodes.slice(0);var first=nodes[0];nodes.forEach(function(node){node.setSelected(!0,node===first)})}};treemode._findTopLevelNodes=function(start,end){var startPath=start.getNodePath(),endPath=end.getNodePath(),i=0;while(i<startPath.length&&startPath[i]===endPath[i]){i++}var root=startPath[i-1],startChild=startPath[i],endChild=endPath[i];if(!startChild||!endChild){if(root.parent){startChild=root;endChild=root;root=root.parent}else{startChild=root.childs[0];endChild=root.childs[root.childs.length-1]}}if(root&&startChild&&endChild){var startIndex=root.childs.indexOf(startChild),endIndex=root.childs.indexOf(endChild),firstIndex=_Mathmin(startIndex,endIndex),lastIndex=_Mathmax(startIndex,endIndex);return root.childs.slice(firstIndex,lastIndex+1)}else{return[]}};treemode._onKeyDown=function(event){var keynum=event.which||event.keyCode,ctrlKey=event.ctrlKey,shiftKey=event.shiftKey,handled=!1;if(9==keynum){var me=this;setTimeout(function(){util.selectContentEditable(me.focusTarget)},0)}if(this.searchBox){if(ctrlKey&&70==keynum){this.searchBox.dom.search.focus();this.searchBox.dom.search.select();handled=!0}else if(114==keynum||ctrlKey&&71==keynum){var focus=!0;if(!shiftKey){this.searchBox.next(focus)}else{this.searchBox.previous(focus)}handled=!0}}if(this.history){if(ctrlKey&&!shiftKey&&90==keynum){this._onUndo();handled=!0}else if(ctrlKey&&shiftKey&&90==keynum){this._onRedo();handled=!0}}if(handled){event.preventDefault();event.stopPropagation()}};treemode._createTable=function(){var contentOuter=document.createElement("div");contentOuter.className="jsoneditor-outer";this.contentOuter=contentOuter;this.content=document.createElement("div");this.content.className="jsoneditor-tree";contentOuter.appendChild(this.content);this.table=document.createElement("table");this.table.className="jsoneditor-tree";this.content.appendChild(this.table);var col;this.colgroupContent=document.createElement("colgroup");if("tree"===this.options.mode){col=document.createElement("col");col.width="24px";this.colgroupContent.appendChild(col)}col=document.createElement("col");col.width="24px";this.colgroupContent.appendChild(col);col=document.createElement("col");this.colgroupContent.appendChild(col);this.table.appendChild(this.colgroupContent);this.tbody=document.createElement("tbody");this.table.appendChild(this.tbody);this.frame.appendChild(contentOuter)};treemode.showContextMenu=function(anchor,onClose){var items=[],editor=this;items.push({text:"Duplicate",title:"Duplicate selected fields (Ctrl+D)",className:"jsoneditor-duplicate",click:function click(){Node.onDuplicate(editor.multiselection.nodes)}});items.push({text:"Remove",title:"Remove selected fields (Ctrl+Del)",className:"jsoneditor-remove",click:function click(){Node.onRemove(editor.multiselection.nodes)}});var menu=new ContextMenu(items,{close:onClose});menu.show(anchor,this.content)};module.exports=[{mode:"tree",mixin:treemode,data:"json"},{mode:"view",mixin:treemode,data:"json"},{mode:"form",mixin:treemode,data:"json"}]},function(module){"use strict";function Highlighter(){this.locked=!1}Highlighter.prototype.highlight=function(node){if(this.locked){return}if(this.node!=node){if(this.node){this.node.setHighlight(!1)}this.node=node;this.node.setHighlight(!0)}this._cancelUnhighlight()};Highlighter.prototype.unhighlight=function(){if(this.locked){return}var me=this;if(this.node){this._cancelUnhighlight();this.unhighlightTimer=setTimeout(function(){me.node.setHighlight(!1);me.node=void 0;me.unhighlightTimer=void 0},0)}};Highlighter.prototype._cancelUnhighlight=function(){if(this.unhighlightTimer){clearTimeout(this.unhighlightTimer);this.unhighlightTimer=void 0}};Highlighter.prototype.lock=function(){this.locked=!0};Highlighter.prototype.unlock=function(){this.locked=!1};module.exports=Highlighter},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4);function History(editor){this.editor=editor;this.history=[];this.index=-1;this.clear();this.actions={editField:{undo:function undo(params){params.node.updateField(params.oldValue)},redo:function redo(params){params.node.updateField(params.newValue)}},editValue:{undo:function undo(params){params.node.updateValue(params.oldValue)},redo:function redo(params){params.node.updateValue(params.newValue)}},changeType:{undo:function undo(params){params.node.changeType(params.oldType)},redo:function redo(params){params.node.changeType(params.newType)}},appendNodes:{undo:function undo(params){params.nodes.forEach(function(node){params.parent.removeChild(node)})},redo:function redo(params){params.nodes.forEach(function(node){params.parent.appendChild(node)})}},insertBeforeNodes:{undo:function undo(params){params.nodes.forEach(function(node){params.parent.removeChild(node)})},redo:function redo(params){params.nodes.forEach(function(node){params.parent.insertBefore(node,params.beforeNode)})}},insertAfterNodes:{undo:function undo(params){params.nodes.forEach(function(node){params.parent.removeChild(node)})},redo:function redo(params){var afterNode=params.afterNode;params.nodes.forEach(function(node){params.parent.insertAfter(params.node,afterNode);afterNode=node})}},removeNodes:{undo:function undo(params){var parent=params.parent,beforeNode=parent.childs[params.index]||parent.append;params.nodes.forEach(function(node){parent.insertBefore(node,beforeNode)})},redo:function redo(params){params.nodes.forEach(function(node){params.parent.removeChild(node)})}},duplicateNodes:{undo:function undo(params){params.nodes.forEach(function(node){params.parent.removeChild(node)})},redo:function redo(params){var afterNode=params.afterNode;params.nodes.forEach(function(node){params.parent.insertAfter(node,afterNode);afterNode=node})}},moveNodes:{undo:function undo(params){params.nodes.forEach(function(node){params.oldBeforeNode.parent.moveBefore(node,params.oldBeforeNode)})},redo:function redo(params){params.nodes.forEach(function(node){params.newBeforeNode.parent.moveBefore(node,params.newBeforeNode)})}},sort:{undo:function undo(params){var node=params.node;node.hideChilds();node.sort=params.oldSort;node.childs=params.oldChilds;node.showChilds()},redo:function redo(params){var node=params.node;node.hideChilds();node.sort=params.newSort;node.childs=params.newChilds;node.showChilds()}}}}History.prototype.onChange=function(){};History.prototype.add=function(action,params){this.index++;this.history[this.index]={action:action,params:params,timestamp:new Date};if(this.index<this.history.length-1){this.history.splice(this.index+1,this.history.length-this.index-1)}this.onChange()};History.prototype.clear=function(){this.history=[];this.index=-1;this.onChange()};History.prototype.canUndo=function(){return 0<=this.index};History.prototype.canRedo=function(){return this.index<this.history.length-1};History.prototype.undo=function(){if(this.canUndo()){var obj=this.history[this.index];if(obj){var action=this.actions[obj.action];if(action&&action.undo){action.undo(obj.params);if(obj.params.oldSelection){this.editor.setSelection(obj.params.oldSelection)}}else{console.error(new Error("unknown action \""+obj.action+"\""))}}this.index--;this.onChange()}};History.prototype.redo=function(){if(this.canRedo()){this.index++;var obj=this.history[this.index];if(obj){var action=this.actions[obj.action];if(action&&action.redo){action.redo(obj.params);if(obj.params.newSelection){this.editor.setSelection(obj.params.newSelection)}}else{console.error(new Error("unknown action \""+obj.action+"\""))}}this.onChange()}};History.prototype.destroy=function(){this.editor=null;this.history=[];this.index=-1};module.exports=History},function(module,exports,__webpack_require__){"use strict";var jsonlint=__webpack_require__(5);exports.parse=function(jsonString){try{return JSON.parse(jsonString)}catch(err){exports.validate(jsonString);throw err}};exports.sanitize=function(jsString){var chars=[],i=0,match=jsString.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);if(match){jsString=match[3]}function curr(){return jsString.charAt(i)}function next(){return jsString.charAt(i+1)}function prev(){return jsString.charAt(i-1)}function lastNonWhitespace(){var p=chars.length-1;while(0<=p){var pp=chars[p];if(" "!==pp&&"\n"!==pp&&"\r"!==pp&&"\t"!==pp){return pp}p--}return""}function skipBlockComment(){i+=2;while(i<jsString.length&&("*"!==curr()||"/"!==next())){i++}i+=2}function skipComment(){i+=2;while(i<jsString.length&&"\n"!==curr()){i++}}function parseString(quote){chars.push("\"");i++;var c=curr();while(i<jsString.length&&c!==quote){if("\""===c&&"\\"!==prev()){chars.push("\\")}if("\\"===c){i++;c=curr();if("'"!==c){chars.push("\\")}}chars.push(c);i++;c=curr()}if(c===quote){chars.push("\"");i++}}function parseKey(){var key="",c=curr(),regexp=/[a-zA-Z_$\d]/;while(regexp.test(c)){key+=c;i++;c=curr()}if(-1===["null","true","false"].indexOf(key)){chars.push("\""+key+"\"")}else{chars.push(key)}}while(i<jsString.length){var c=curr();if("/"===c&&"*"===next()){skipBlockComment()}else if("/"===c&&"/"===next()){skipComment()}else if("'"===c||"\""===c){parseString(c)}else if(/[a-zA-Z_$]/.test(c)&&-1!==["{",","].indexOf(lastNonWhitespace())){parseKey()}else{chars.push(c);i++}}return chars.join("")};exports.escapeUnicodeChars=function(text){return text.replace(/[\u007F-\uFFFF]/g,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})};exports.validate=function(jsonString){if("undefined"!=typeof jsonlint){jsonlint.parse(jsonString)}else{JSON.parse(jsonString)}};exports.extend=function(a,b){for(var prop in b){if(b.hasOwnProperty(prop)){a[prop]=b[prop]}}return a};exports.clear=function(a){for(var prop in a){if(a.hasOwnProperty(prop)){delete a[prop]}}return a};exports.type=function(object){if(null===object){return"null"}if(object===void 0){return"undefined"}if(babelHelpers.instanceof(object,Number)||"number"===typeof object){return"number"}if(babelHelpers.instanceof(object,String)||"string"===typeof object){return"string"}if(babelHelpers.instanceof(object,Boolean)||"boolean"===typeof object){return"boolean"}if(babelHelpers.instanceof(object,RegExp)||"regexp"===typeof object){return"regexp"}if(exports.isArray(object)){return"array"}return"object"};var isUrlRegex=/^https?:\/\/\S+$/;exports.isUrl=function(text){return("string"==typeof text||babelHelpers.instanceof(text,String))&&isUrlRegex.test(text)};exports.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)};exports.getAbsoluteLeft=function(elem){var rect=elem.getBoundingClientRect();return rect.left+window.pageXOffset||document.scrollLeft||0};exports.getAbsoluteTop=function(elem){var rect=elem.getBoundingClientRect();return rect.top+window.pageYOffset||document.scrollTop||0};exports.addClassName=function(elem,className){var classes=elem.className.split(" ");if(-1==classes.indexOf(className)){classes.push(className);elem.className=classes.join(" ")}};exports.removeClassName=function(elem,className){var classes=elem.className.split(" "),index=classes.indexOf(className);if(-1!=index){classes.splice(index,1);elem.className=classes.join(" ")}};exports.stripFormatting=function(divElement){for(var childs=divElement.childNodes,i=0,iMax=childs.length,child;i<iMax;i++){child=childs[i];if(child.style){child.removeAttribute("style")}var attributes=child.attributes;if(attributes){for(var j=attributes.length-1,attribute;0<=j;j--){attribute=attributes[j];if(!0===attribute.specified){child.removeAttribute(attribute.name)}}}exports.stripFormatting(child)}};exports.setEndOfContentEditable=function(contentEditableElement){var range,selection;if(document.createRange){range=document.createRange();range.selectNodeContents(contentEditableElement);range.collapse(!1);selection=window.getSelection();selection.removeAllRanges();selection.addRange(range)}};exports.selectContentEditable=function(contentEditableElement){if(!contentEditableElement||"DIV"!=contentEditableElement.nodeName){return}var sel,range;if(window.getSelection&&document.createRange){range=document.createRange();range.selectNodeContents(contentEditableElement);sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}};exports.getSelection=function(){if(window.getSelection){var sel=window.getSelection();if(sel.getRangeAt&&sel.rangeCount){return sel.getRangeAt(0)}}return null};exports.setSelection=function(range){if(range){if(window.getSelection){var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}}};exports.getSelectionOffset=function(){var range=exports.getSelection();if(range&&"startOffset"in range&&"endOffset"in range&&range.startContainer&&range.startContainer==range.endContainer){return{startOffset:range.startOffset,endOffset:range.endOffset,container:range.startContainer.parentNode}}return null};exports.setSelectionOffset=function(params){if(document.createRange&&window.getSelection){var selection=window.getSelection();if(selection){var range=document.createRange();if(!params.container.firstChild){params.container.appendChild(document.createTextNode(""))}range.setStart(params.container.firstChild,params.startOffset);range.setEnd(params.container.firstChild,params.endOffset);exports.setSelection(range)}}};exports.getInnerText=function(element,buffer){var first=buffer==void 0;if(first){buffer={text:"",flush:function flush(){var text=this.text;this.text="";return text},set:function set(text){this.text=text}}}if(element.nodeValue){return buffer.flush()+element.nodeValue}if(element.hasChildNodes()){for(var childNodes=element.childNodes,innerText="",i=0,iMax=childNodes.length,child;i<iMax;i++){child=childNodes[i];if("DIV"==child.nodeName||"P"==child.nodeName){var prevChild=childNodes[i-1],prevName=prevChild?prevChild.nodeName:void 0;if(prevName&&"DIV"!=prevName&&"P"!=prevName&&"BR"!=prevName){innerText+="\n";buffer.flush()}innerText+=exports.getInnerText(child,buffer);buffer.set("\n")}else if("BR"==child.nodeName){innerText+=buffer.flush();buffer.set("\n")}else{innerText+=exports.getInnerText(child,buffer)}}return innerText}else{if("P"==element.nodeName&&-1!=exports.getInternetExplorerVersion()){return buffer.flush()}}return""};exports.getInternetExplorerVersion=function(){if(-1==_ieVersion){var rv=-1;if("Microsoft Internet Explorer"==navigator.appName){var ua=navigator.userAgent,re=/MSIE ([0-9]{1,}[.0-9]{0,})/;if(null!=re.exec(ua)){rv=parseFloat(RegExp.$1)}}_ieVersion=rv}return _ieVersion};exports.isFirefox=function(){return-1!=navigator.userAgent.indexOf("Firefox")};var _ieVersion=-1;exports.addEventListener=function(element,action,listener,useCapture){if(element.addEventListener){if(useCapture===void 0)useCapture=!1;if("mousewheel"===action&&exports.isFirefox()){action="DOMMouseScroll"}element.addEventListener(action,listener,useCapture);return listener}else if(element.attachEvent){var f=function(){return listener.call(element,window.event)};element.attachEvent("on"+action,f);return f}};exports.removeEventListener=function(element,action,listener,useCapture){if(element.removeEventListener){if(useCapture===void 0)useCapture=!1;if("mousewheel"===action&&exports.isFirefox()){action="DOMMouseScroll"}element.removeEventListener(action,listener,useCapture)}else if(element.detachEvent){element.detachEvent("on"+action,listener)}};exports.parsePath=function parsePath(jsonPath){var prop,remainder;if(0===jsonPath.length){return[]}var match=jsonPath.match(/^\.(\w+)/);if(match){prop=match[1];remainder=jsonPath.substr(prop.length+1)}else if("["===jsonPath[0]){var end=jsonPath.indexOf("]");if(-1===end){throw new SyntaxError("Character ] expected in path")}if(1===end){throw new SyntaxError("Index expected after [")}var value=jsonPath.substring(1,end);if("'"===value[0]){value="\""+value.substring(1,value.length-1)+"\""}prop="*"===value?value:JSON.parse(value);remainder=jsonPath.substr(end+1)}else{throw new SyntaxError("Failed to parse path")}return[prop].concat(parsePath(remainder))};exports.improveSchemaError=function(error){if("enum"===error.keyword&&Array.isArray(error.schema)){var enums=error.schema;if(enums){enums=enums.map(function(value){return JSON.stringify(value)});if(5<enums.length){var more=["("+(enums.length-5)+" more...)"];enums=enums.slice(0,5);enums.push(more)}error.message="should be equal to one of: "+enums.join(", ")}}if("additionalProperties"===error.keyword){error.message="should NOT have additional property: "+error.params.additionalProperty}return error};exports.insideRect=function(parent,child,margin){var _margin=margin!==void 0?margin:0;return child.left-_margin>=parent.left&&child.right+_margin<=parent.right&&child.top-_margin>=parent.top&&child.bottom+_margin<=parent.bottom};exports.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(function later(){timeout=null;if(!immediate)func.apply(context,args)},wait);if(callNow)func.apply(context,args)}};exports.textDiff=function(oldText,newText){var len=newText.length,start=0,oldEnd=oldText.length,newEnd=newText.length;while(newText.charAt(start)===oldText.charAt(start)&&start<len){start++}while(newText.charAt(newEnd-1)===oldText.charAt(oldEnd-1)&&newEnd>start&&0<oldEnd){newEnd--;oldEnd--}return{start:start,end:newEnd}}},function(module,exports){var jsonlint=function(){var parser={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$){var $0=$$.length-1;switch(yystate){case 1:this.$=yytext.replace(/\\(\\|")/g,"$"+"1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\x0B").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=+yytext;break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=$$[$0-1];break;case 13:this.$={};break;case 14:this.$=$$[$0-1];break;case 15:this.$=[$$[$0-2],$$[$0]];break;case 16:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 17:this.$=$$[$0-2];$$[$0-2][$$[$0][0]]=$$[$0][1];break;case 18:this.$=[];break;case 19:this.$=$$[$0-1];break;case 20:this.$=[$$[$0]];break;case 21:this.$=$$[$0-2];$$[$0-2].push($$[$0]);break;}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(str){throw new Error(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if("undefined"==typeof this.lexer.yylloc)this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if("function"===typeof this.yy.parseError)this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token=self.lexer.lex()||1;if("number"!==typeof token){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,r,yyval={},p,len,newState,expected;while(!0){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(null==symbol)symbol=lex();action=table[state]&&table[state][symbol]}_handle_error:if("undefined"===typeof action||!action.length||!action[0]){if(!recovering){expected=[];for(p in table[state]){if(this.terminals_[p]&&2<p){expected.push("'"+this.terminals_[p]+"'")}}var errStr="";if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+this.terminals_[symbol]+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}if(3==recovering){if(symbol==1){throw new Error(errStr||"Parsing halted.")}yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex()}while(1){if(TERROR.toString()in table[state]){break}if(0==state){throw new Error(errStr||"Parsing halted.")}popStack(1);state=stack[stack.length-1]}preErrorSymbol=symbol;symbol=TERROR;state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3}if(babelHelpers.instanceof(action[0],Array)&&1<action.length){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(0<recovering)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if("undefined"!==typeof r){return r}if(len){stack=stack.slice(0,2*(-1*len));vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return!0;}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch},unput:function(ch){this._input=ch+this._input;return this},more:function(){this._more=!0;return this},less:function(n){this._input=this.match.slice(n)+this._input},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(20<past.length?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(20>next.length){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(20<next.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=!0;var token,match,tempMatch,index,lines;if(!this._more){this.yytext="";this.match=""}for(var rules=this._currentRules(),i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.yyleng=this.yytext.length;this._more=!1;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=!1;if(token)return token;else return}if(""===this._input){return this.EOF}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function(){var r=this.next();if("undefined"!==typeof r){return r}else{return this.lex()}},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)},options:{},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:break;case 1:return 6;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return"INVALID";break;}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return lexer}();parser.lexer=lexer;return parser}();exports.parser=jsonlint;exports.parse=jsonlint.parse.bind(jsonlint)},function(module){"use strict";function SearchBox(editor,container){var searchBox=this;this.editor=editor;this.timeout=void 0;this.delay=200;this.lastText=void 0;this.dom={};this.dom.container=container;var table=document.createElement("table");this.dom.table=table;table.className="jsoneditor-search";container.appendChild(table);var tbody=document.createElement("tbody");this.dom.tbody=tbody;table.appendChild(tbody);var tr=document.createElement("tr");tbody.appendChild(tr);var td=document.createElement("td");tr.appendChild(td);var results=document.createElement("div");this.dom.results=results;results.className="jsoneditor-results";td.appendChild(results);td=document.createElement("td");tr.appendChild(td);var divInput=document.createElement("div");this.dom.input=divInput;divInput.className="jsoneditor-frame";divInput.title="Search fields and values";td.appendChild(divInput);var tableInput=document.createElement("table");divInput.appendChild(tableInput);var tbodySearch=document.createElement("tbody");tableInput.appendChild(tbodySearch);tr=document.createElement("tr");tbodySearch.appendChild(tr);var refreshSearch=document.createElement("button");refreshSearch.type="button";refreshSearch.className="jsoneditor-refresh";td=document.createElement("td");td.appendChild(refreshSearch);tr.appendChild(td);var search=document.createElement("input");this.dom.search=search;search.oninput=function(event){searchBox._onDelayedSearch(event)};search.onchange=function(){searchBox._onSearch()};search.onkeydown=function(event){searchBox._onKeyDown(event)};search.onkeyup=function(event){searchBox._onKeyUp(event)};refreshSearch.onclick=function(){search.select()};td=document.createElement("td");td.appendChild(search);tr.appendChild(td);var searchNext=document.createElement("button");searchNext.type="button";searchNext.title="Next result (Enter)";searchNext.className="jsoneditor-next";searchNext.onclick=function(){searchBox.next()};td=document.createElement("td");td.appendChild(searchNext);tr.appendChild(td);var searchPrevious=document.createElement("button");searchPrevious.type="button";searchPrevious.title="Previous result (Shift+Enter)";searchPrevious.className="jsoneditor-previous";searchPrevious.onclick=function(){searchBox.previous()};td=document.createElement("td");td.appendChild(searchPrevious);tr.appendChild(td)}SearchBox.prototype.next=function(focus){if(this.results!=void 0){var index=this.resultIndex!=void 0?this.resultIndex+1:0;if(index>this.results.length-1){index=0}this._setActiveResult(index,focus)}};SearchBox.prototype.previous=function(focus){if(this.results!=void 0){var max=this.results.length-1,index=this.resultIndex!=void 0?this.resultIndex-1:max;if(0>index){index=max}this._setActiveResult(index,focus)}};SearchBox.prototype._setActiveResult=function(index,focus){if(this.activeResult){var prevNode=this.activeResult.node,prevElem=this.activeResult.elem;if("field"==prevElem){delete prevNode.searchFieldActive}else{delete prevNode.searchValueActive}prevNode.updateDom()}if(!this.results||!this.results[index]){this.resultIndex=void 0;this.activeResult=void 0;return}this.resultIndex=index;var node=this.results[this.resultIndex].node,elem=this.results[this.resultIndex].elem;if("field"==elem){node.searchFieldActive=!0}else{node.searchValueActive=!0}this.activeResult=this.results[this.resultIndex];node.updateDom();node.scrollTo(function(){if(focus){node.focus(elem)}})};SearchBox.prototype._clearDelay=function(){if(this.timeout!=void 0){clearTimeout(this.timeout);delete this.timeout}};SearchBox.prototype._onDelayedSearch=function(){this._clearDelay();var searchBox=this;this.timeout=setTimeout(function(){searchBox._onSearch()},this.delay)};SearchBox.prototype._onSearch=function(forceSearch){this._clearDelay();var value=this.dom.search.value,text=0<value.length?value:void 0;if(text!=this.lastText||forceSearch){this.lastText=text;this.results=this.editor.search(text);this._setActiveResult(void 0);if(text!=void 0){var resultCount=this.results.length;switch(resultCount){case 0:this.dom.results.innerHTML="no&nbsp;results";break;case 1:this.dom.results.innerHTML="1&nbsp;result";break;default:this.dom.results.innerHTML=resultCount+"&nbsp;results";break;}}else{this.dom.results.innerHTML=""}}};SearchBox.prototype._onKeyDown=function(event){var keynum=event.which;if(27==keynum){this.dom.search.value="";this._onSearch();event.preventDefault();event.stopPropagation()}else if(13==keynum){if(event.ctrlKey){this._onSearch(!0)}else if(event.shiftKey){this.previous()}else{this.next()}event.preventDefault();event.stopPropagation()}};SearchBox.prototype._onKeyUp=function(event){var keynum=event.keyCode;if(27!=keynum&&13!=keynum){this._onDelayedSearch(event)}};SearchBox.prototype.clear=function(){this.dom.search.value="";this._onSearch()};SearchBox.prototype.destroy=function(){this.editor=null;this.dom.container.removeChild(this.dom.table);this.dom=null;this.results=null;this.activeResult=null;this._clearDelay()};module.exports=SearchBox},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(4);function ContextMenu(items,options){this.dom={};var me=this,dom=this.dom;this.anchor=void 0;this.items=items;this.eventListeners={};this.selection=void 0;this.onClose=options?options.close:void 0;var root=document.createElement("div");root.className="jsoneditor-contextmenu-root";dom.root=root;var menu=document.createElement("div");menu.className="jsoneditor-contextmenu";dom.menu=menu;root.appendChild(menu);var list=document.createElement("ul");list.className="jsoneditor-menu";menu.appendChild(list);dom.list=list;dom.items=[];var focusButton=document.createElement("button");focusButton.type="button";dom.focusButton=focusButton;var li=document.createElement("li");li.style.overflow="hidden";li.style.height="0";li.appendChild(focusButton);list.appendChild(li);function createMenuItems(list,domItems,items){items.forEach(function(item){if("separator"==item.type){var separator=document.createElement("div");separator.className="jsoneditor-separator";li=document.createElement("li");li.appendChild(separator);list.appendChild(li)}else{var domItem={},li=document.createElement("li");list.appendChild(li);var button=document.createElement("button");button.type="button";button.className=item.className;domItem.button=button;if(item.title){button.title=item.title}if(item.click){button.onclick=function(event){event.preventDefault();me.hide();item.click()}}li.appendChild(button);if(item.submenu){var divIcon=document.createElement("div");divIcon.className="jsoneditor-icon";button.appendChild(divIcon);button.appendChild(document.createTextNode(item.text));var buttonSubmenu;if(item.click){button.className+=" jsoneditor-default";var buttonExpand=document.createElement("button");buttonExpand.type="button";domItem.buttonExpand=buttonExpand;buttonExpand.className="jsoneditor-expand";buttonExpand.innerHTML="<div class=\"jsoneditor-expand\"></div>";li.appendChild(buttonExpand);if(item.submenuTitle){buttonExpand.title=item.submenuTitle}buttonSubmenu=buttonExpand}else{var divExpand=document.createElement("div");divExpand.className="jsoneditor-expand";button.appendChild(divExpand);buttonSubmenu=button}buttonSubmenu.onclick=function(event){event.preventDefault();me._onExpandItem(domItem);buttonSubmenu.focus()};var domSubItems=[];domItem.subItems=domSubItems;var ul=document.createElement("ul");domItem.ul=ul;ul.className="jsoneditor-menu";ul.style.height="0";li.appendChild(ul);createMenuItems(ul,domSubItems,item.submenu)}else{button.innerHTML="<div class=\"jsoneditor-icon\"></div>"+item.text}domItems.push(domItem)}})}createMenuItems(list,this.dom.items,items);this.maxHeight=0;items.forEach(function(item){var height=24*(items.length+(item.submenu?item.submenu.length:0));me.maxHeight=_Mathmax(me.maxHeight,height)})}ContextMenu.prototype._getVisibleButtons=function(){var buttons=[],me=this;this.dom.items.forEach(function(item){buttons.push(item.button);if(item.buttonExpand){buttons.push(item.buttonExpand)}if(item.subItems&&item==me.expandedItem){item.subItems.forEach(function(subItem){buttons.push(subItem.button);if(subItem.buttonExpand){buttons.push(subItem.buttonExpand)}})}});return buttons};ContextMenu.visibleMenu=void 0;ContextMenu.prototype.show=function(anchor,contentWindow){this.hide();var showBelow=!0;if(contentWindow){var anchorRect=anchor.getBoundingClientRect(),contentRect=contentWindow.getBoundingClientRect();if(anchorRect.bottom+this.maxHeight<contentRect.bottom){}else if(anchorRect.top-this.maxHeight>contentRect.top){showBelow=!1}}if(showBelow){var anchorHeight=anchor.offsetHeight;this.dom.menu.style.left="0px";this.dom.menu.style.top=anchorHeight+"px";this.dom.menu.style.bottom=""}else{this.dom.menu.style.left="0px";this.dom.menu.style.top="";this.dom.menu.style.bottom="0px"}var parent=anchor.parentNode;parent.insertBefore(this.dom.root,parent.firstChild);var me=this,list=this.dom.list;this.eventListeners.mousedown=util.addEventListener(window,"mousedown",function(event){var target=event.path[0];if(target!=list&&!me._isChildOf(target,list)){me.hide();event.stopPropagation();event.preventDefault()}});this.eventListeners.keydown=util.addEventListener(window,"keydown",function(event){me._onKeyDown(event)});this.selection=util.getSelection();this.anchor=anchor;setTimeout(function(){me.dom.focusButton.focus()},0);if(ContextMenu.visibleMenu){ContextMenu.visibleMenu.hide()}ContextMenu.visibleMenu=this};ContextMenu.prototype.hide=function(){if(this.dom.root.parentNode){this.dom.root.parentNode.removeChild(this.dom.root);if(this.onClose){this.onClose()}}for(var name in this.eventListeners){if(this.eventListeners.hasOwnProperty(name)){var fn=this.eventListeners[name];if(fn){util.removeEventListener(window,name,fn)}delete this.eventListeners[name]}}if(ContextMenu.visibleMenu==this){ContextMenu.visibleMenu=void 0}};ContextMenu.prototype._onExpandItem=function(domItem){var me=this,alreadyVisible=domItem==this.expandedItem,expandedItem=this.expandedItem;if(expandedItem){expandedItem.ul.style.height="0";expandedItem.ul.style.padding="";setTimeout(function(){if(me.expandedItem!=expandedItem){expandedItem.ul.style.display="";util.removeClassName(expandedItem.ul.parentNode,"jsoneditor-selected")}},300);this.expandedItem=void 0}if(!alreadyVisible){var ul=domItem.ul;ul.style.display="block";ul.clientHeight;setTimeout(function(){if(me.expandedItem==domItem){ul.style.height=24*ul.childNodes.length+"px";ul.style.padding="5px 10px"}},0);util.addClassName(ul.parentNode,"jsoneditor-selected");this.expandedItem=domItem}};ContextMenu.prototype._onKeyDown=function(event){var target=event.target,keynum=event.which,handled=!1,buttons,targetIndex,prevButton,nextButton;if(27==keynum){if(this.selection){util.setSelection(this.selection)}if(this.anchor){this.anchor.focus()}this.hide();handled=!0}else if(9==keynum){if(!event.shiftKey){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);if(targetIndex==buttons.length-1){buttons[0].focus();handled=!0}}else{buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);if(0==targetIndex){buttons[buttons.length-1].focus();handled=!0}}}else if(37==keynum){if("jsoneditor-expand"==target.className){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);prevButton=buttons[targetIndex-1];if(prevButton){prevButton.focus()}}handled=!0}else if(38==keynum){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);prevButton=buttons[targetIndex-1];if(prevButton&&"jsoneditor-expand"==prevButton.className){prevButton=buttons[targetIndex-2]}if(!prevButton){prevButton=buttons[buttons.length-1]}if(prevButton){prevButton.focus()}handled=!0}else if(39==keynum){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);nextButton=buttons[targetIndex+1];if(nextButton&&"jsoneditor-expand"==nextButton.className){nextButton.focus()}handled=!0}else if(40==keynum){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);nextButton=buttons[targetIndex+1];if(nextButton&&"jsoneditor-expand"==nextButton.className){nextButton=buttons[targetIndex+2]}if(!nextButton){nextButton=buttons[0]}if(nextButton){nextButton.focus();handled=!0}handled=!0}if(handled){event.stopPropagation();event.preventDefault()}};ContextMenu.prototype._isChildOf=function(child,parent){var e=child.parentNode;while(e){if(e==parent){return!0}e=e.parentNode}return!1};module.exports=ContextMenu},function(module,exports,__webpack_require__){"use strict";var naturalSort=__webpack_require__(9),ContextMenu=__webpack_require__(7),appendNodeFactory=__webpack_require__(10),util=__webpack_require__(4);function Node(editor,params){this.editor=editor;this.dom={};this.expanded=!1;if(params&&babelHelpers.instanceof(params,Object)){this.setField(params.field,params.fieldEditable);this.setValue(params.value,params.type)}else{this.setField("");this.setValue(null)}this._debouncedOnChangeValue=util.debounce(this._onChangeValue.bind(this),Node.prototype.DEBOUNCE_INTERVAL);this._debouncedOnChangeField=util.debounce(this._onChangeField.bind(this),Node.prototype.DEBOUNCE_INTERVAL)}Node.prototype.DEBOUNCE_INTERVAL=150;Node.prototype._updateEditability=function(){this.editable={field:!0,value:!0};if(this.editor){this.editable.field="tree"===this.editor.options.mode;this.editable.value="view"!==this.editor.options.mode;if(("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"===typeof this.editor.options.onEditable){var editable=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});if("boolean"===typeof editable){this.editable.field=editable;this.editable.value=editable}else{if("boolean"===typeof editable.field)this.editable.field=editable.field;if("boolean"===typeof editable.value)this.editable.value=editable.value}}}};Node.prototype.getPath=function(){var node=this,path=[];while(node){var field=!node.parent?void 0:"array"!=node.parent.type?node.field:node.index;if(field!==void 0){path.unshift(field)}node=node.parent}return path};Node.prototype.findNode=function(jsonPath){var path=util.parsePath(jsonPath),node=this;while(node&&0<path.length){var prop=path.shift();if("number"===typeof prop){if("array"!==node.type){throw new Error("Cannot get child node at index "+prop+": node is no array")}node=node.childs[prop]}else{if("object"!==node.type){throw new Error("Cannot get child node "+prop+": node is no object")}node=node.childs.filter(function(child){return child.field===prop})[0]}}return node};Node.prototype.findParents=function(){var parents=[],parent=this.parent;while(parent){parents.unshift(parent);parent=parent.parent}return parents};Node.prototype.setError=function(error,child){this.getDom();this.error=error;var tdError=this.dom.tdError;if(error){if(!tdError){tdError=document.createElement("td");this.dom.tdError=tdError;this.dom.tdValue.parentNode.appendChild(tdError)}var popover=document.createElement("div");popover.className="jsoneditor-popover jsoneditor-right";popover.appendChild(document.createTextNode(error.message));var button=document.createElement("button");button.type="button";button.className="jsoneditor-schema-error";button.appendChild(popover);button.onmouseover=button.onfocus=function(){for(var directions=["right","above","below","left"],i=0,direction;i<directions.length;i++){direction=directions[i];popover.className="jsoneditor-popover jsoneditor-"+direction;var contentRect=this.editor.content.getBoundingClientRect(),popoverRect=popover.getBoundingClientRect(),fit=util.insideRect(contentRect,popoverRect,20);if(fit){break}}}.bind(this);if(child){button.onclick=function(){child.findParents().forEach(function(parent){parent.expand(!1)});child.scrollTo(function(){child.focus()})}}while(tdError.firstChild){tdError.removeChild(tdError.firstChild)}tdError.appendChild(button)}else{if(tdError){this.dom.tdError.parentNode.removeChild(this.dom.tdError);delete this.dom.tdError}}};Node.prototype.getIndex=function(){return this.parent?this.parent.childs.indexOf(this):-1};Node.prototype.setParent=function(parent){this.parent=parent};Node.prototype.setField=function(field,fieldEditable){this.field=field;this.previousField=field;this.fieldEditable=!0===fieldEditable};Node.prototype.getField=function(){if(this.field===void 0){this._getDomField()}return this.field};Node.prototype.setValue=function(value,type){var childValue,child,childs=this.childs;if(childs){while(childs.length){this.removeChild(childs[0])}}this.type=this._getType(value);if(type&&type!=this.type){if("string"==type&&"auto"==this.type){this.type=type}else{throw new Error("Type mismatch: "+"cannot cast value of type \""+this.type+" to the specified type \""+type+"\"")}}if("array"==this.type){this.childs=[];for(var i=0,iMax=value.length;i<iMax;i++){childValue=value[i];if(childValue!==void 0&&!babelHelpers.instanceof(childValue,Function)){child=new Node(this.editor,{value:childValue});this.appendChild(child)}}this.value=""}else if("object"==this.type){this.childs=[];for(var childField in value){if(value.hasOwnProperty(childField)){childValue=value[childField];if(childValue!==void 0&&!babelHelpers.instanceof(childValue,Function)){child=new Node(this.editor,{field:childField,value:childValue});this.appendChild(child)}}}this.value="";if(!0===this.editor.options.sortObjectKeys){this.sort("asc")}}else{this.childs=void 0;this.value=value}this.previousValue=this.value};Node.prototype.getValue=function(){if("array"==this.type){var arr=[];this.childs.forEach(function(child){arr.push(child.getValue())});return arr}else if("object"==this.type){var obj={};this.childs.forEach(function(child){obj[child.getField()]=child.getValue()});return obj}else{if(this.value===void 0){this._getDomValue()}return this.value}};Node.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0};Node.prototype.getNodePath=function(){var path=this.parent?this.parent.getNodePath():[];path.push(this);return path};Node.prototype.clone=function(){var clone=new Node(this.editor);clone.type=this.type;clone.field=this.field;clone.fieldInnerText=this.fieldInnerText;clone.fieldEditable=this.fieldEditable;clone.value=this.value;clone.valueInnerText=this.valueInnerText;clone.expanded=this.expanded;if(this.childs){var cloneChilds=[];this.childs.forEach(function(child){var childClone=child.clone();childClone.setParent(clone);cloneChilds.push(childClone)});clone.childs=cloneChilds}else{clone.childs=void 0}return clone};Node.prototype.expand=function(recurse){if(!this.childs){return}this.expanded=!0;if(this.dom.expand){this.dom.expand.className="jsoneditor-expanded"}this.showChilds();if(!1!==recurse){this.childs.forEach(function(child){child.expand(recurse)})}};Node.prototype.collapse=function(recurse){if(!this.childs){return}this.hideChilds();if(!1!==recurse){this.childs.forEach(function(child){child.collapse(recurse)})}if(this.dom.expand){this.dom.expand.className="jsoneditor-collapsed"}this.expanded=!1};Node.prototype.showChilds=function(){var childs=this.childs;if(!childs){return}if(!this.expanded){return}var tr=this.dom.tr,table=tr?tr.parentNode:void 0;if(table){var append=this.getAppend(),nextTr=tr.nextSibling;if(nextTr){table.insertBefore(append,nextTr)}else{table.appendChild(append)}this.childs.forEach(function(child){table.insertBefore(child.getDom(),append);child.showChilds()})}};Node.prototype.hide=function(){var tr=this.dom.tr,table=tr?tr.parentNode:void 0;if(table){table.removeChild(tr)}this.hideChilds()};Node.prototype.hideChilds=function(){var childs=this.childs;if(!childs){return}if(!this.expanded){return}var append=this.getAppend();if(append.parentNode){append.parentNode.removeChild(append)}this.childs.forEach(function(child){child.hide()})};Node.prototype.appendChild=function(node){if(this._hasChilds()){node.setParent(this);node.fieldEditable="object"==this.type;if("array"==this.type){node.index=this.childs.length}this.childs.push(node);if(this.expanded){var newTr=node.getDom(),appendTr=this.getAppend(),table=appendTr?appendTr.parentNode:void 0;if(appendTr&&table){table.insertBefore(newTr,appendTr)}node.showChilds()}this.updateDom({updateIndexes:!0});node.updateDom({recurse:!0})}};Node.prototype.moveBefore=function(node,beforeNode){if(this._hasChilds()){var tbody=this.dom.tr?this.dom.tr.parentNode:void 0;if(tbody){var trTemp=document.createElement("tr");trTemp.style.height=tbody.clientHeight+"px";tbody.appendChild(trTemp)}if(node.parent){node.parent.removeChild(node)}if(babelHelpers.instanceof(beforeNode,AppendNode)){this.appendChild(node)}else{this.insertBefore(node,beforeNode)}if(tbody){tbody.removeChild(trTemp)}}};Node.prototype.moveTo=function(node,index){if(node.parent==this){var currentIndex=this.childs.indexOf(node);if(currentIndex<index){index++}}var beforeNode=this.childs[index]||this.append;this.moveBefore(node,beforeNode)};Node.prototype.insertBefore=function(node,beforeNode){if(this._hasChilds()){if(beforeNode==this.append){node.setParent(this);node.fieldEditable="object"==this.type;this.childs.push(node)}else{var index=this.childs.indexOf(beforeNode);if(-1==index){throw new Error("Node not found")}node.setParent(this);node.fieldEditable="object"==this.type;this.childs.splice(index,0,node)}if(this.expanded){var newTr=node.getDom(),nextTr=beforeNode.getDom(),table=nextTr?nextTr.parentNode:void 0;if(nextTr&&table){table.insertBefore(newTr,nextTr)}node.showChilds()}this.updateDom({updateIndexes:!0});node.updateDom({recurse:!0})}};Node.prototype.insertAfter=function(node,afterNode){if(this._hasChilds()){var index=this.childs.indexOf(afterNode),beforeNode=this.childs[index+1];if(beforeNode){this.insertBefore(node,beforeNode)}else{this.appendChild(node)}}};Node.prototype.search=function(text){var results=[],index,search=text?text.toLowerCase():void 0;delete this.searchField;delete this.searchValue;if(this.field!=void 0){var field=(this.field+"").toLowerCase();index=field.indexOf(search);if(-1!=index){this.searchField=!0;results.push({node:this,elem:"field"})}this._updateDomField()}if(this._hasChilds()){if(this.childs){var childResults=[];this.childs.forEach(function(child){childResults=childResults.concat(child.search(text))});results=results.concat(childResults)}if(search!=void 0){var recurse=!1;if(0==childResults.length){this.collapse(recurse)}else{this.expand(recurse)}}}else{if(this.value!=void 0){var value=(this.value+"").toLowerCase();index=value.indexOf(search);if(-1!=index){this.searchValue=!0;results.push({node:this,elem:"value"})}}this._updateDomValue()}return results};Node.prototype.scrollTo=function(callback){if(!this.dom.tr||!this.dom.tr.parentNode){var parent=this.parent;while(parent){parent.expand(!1);parent=parent.parent}}if(this.dom.tr&&this.dom.tr.parentNode){this.editor.scrollTo(this.dom.tr.offsetTop,callback)}};Node.focusElement=void 0;Node.prototype.focus=function(elementName){Node.focusElement=elementName;if(this.dom.tr&&this.dom.tr.parentNode){var dom=this.dom;switch(elementName){case"drag":if(dom.drag){dom.drag.focus()}else{dom.menu.focus()}break;case"menu":dom.menu.focus();break;case"expand":if(this._hasChilds()){dom.expand.focus()}else if(dom.field&&this.fieldEditable){dom.field.focus();util.selectContentEditable(dom.field)}else if(dom.value&&!this._hasChilds()){dom.value.focus();util.selectContentEditable(dom.value)}else{dom.menu.focus()}break;case"field":if(dom.field&&this.fieldEditable){dom.field.focus();util.selectContentEditable(dom.field)}else if(dom.value&&!this._hasChilds()){dom.value.focus();util.selectContentEditable(dom.value)}else if(this._hasChilds()){dom.expand.focus()}else{dom.menu.focus()}break;case"value":default:if(dom.value&&!this._hasChilds()){dom.value.focus();util.selectContentEditable(dom.value)}else if(dom.field&&this.fieldEditable){dom.field.focus();util.selectContentEditable(dom.field)}else if(this._hasChilds()){dom.expand.focus()}else{dom.menu.focus()}break;}}};Node.select=function(editableDiv){setTimeout(function(){util.selectContentEditable(editableDiv)},0)};Node.prototype.blur=function(){this._getDomValue(!1);this._getDomField(!1)};Node.prototype.containsNode=function(node){if(this==node){return!0}var childs=this.childs;if(childs){for(var i=0,iMax=childs.length;i<iMax;i++){if(childs[i].containsNode(node)){return!0}}}return!1};Node.prototype._move=function(node,beforeNode){if(node==beforeNode){return}if(node.containsNode(this)){throw new Error("Cannot move a field into a child of itself")}if(node.parent){node.parent.removeChild(node)}var clone=node.clone();node.clearDom();if(beforeNode){this.insertBefore(clone,beforeNode)}else{this.appendChild(clone)}};Node.prototype.removeChild=function(node){if(this.childs){var index=this.childs.indexOf(node);if(-1!=index){node.hide();delete node.searchField;delete node.searchValue;var removedNode=this.childs.splice(index,1)[0];removedNode.parent=null;this.updateDom({updateIndexes:!0});return removedNode}}};Node.prototype._remove=function(node){this.removeChild(node)};Node.prototype.changeType=function(newType){var oldType=this.type;if(oldType==newType){return}if(("string"==newType||"auto"==newType)&&("string"==oldType||"auto"==oldType)){this.type=newType}else{var table=this.dom.tr?this.dom.tr.parentNode:void 0,lastTr;if(this.expanded){lastTr=this.getAppend()}else{lastTr=this.getDom()}var nextTr=lastTr&&lastTr.parentNode?lastTr.nextSibling:void 0;this.hide();this.clearDom();this.type=newType;if("object"==newType){if(!this.childs){this.childs=[]}this.childs.forEach(function(child){child.clearDom();delete child.index;child.fieldEditable=!0;if(child.field==void 0){child.field=""}});if("string"==oldType||"auto"==oldType){this.expanded=!0}}else if("array"==newType){if(!this.childs){this.childs=[]}this.childs.forEach(function(child,index){child.clearDom();child.fieldEditable=!1;child.index=index});if("string"==oldType||"auto"==oldType){this.expanded=!0}}else{this.expanded=!1}if(table){if(nextTr){table.insertBefore(this.getDom(),nextTr)}else{table.appendChild(this.getDom())}}this.showChilds()}if("auto"==newType||"string"==newType){if("string"==newType){this.value=this.value+""}else{this.value=this._stringCast(this.value+"")}this.focus()}this.updateDom({updateIndexes:!0})};Node.prototype._getDomValue=function(silent){if(this.dom.value&&"array"!=this.type&&"object"!=this.type){this.valueInnerText=util.getInnerText(this.dom.value)}if(this.valueInnerText!=void 0){try{var value;if("string"==this.type){value=this._unescapeHTML(this.valueInnerText)}else{var str=this._unescapeHTML(this.valueInnerText);value=this._stringCast(str)}if(value!==this.value){this.value=value;this._debouncedOnChangeValue()}}catch(err){this.value=void 0;if(!0!==silent){throw err}}}};Node.prototype._onChangeValue=function(){var oldSelection=this.editor.getSelection();if(oldSelection.range){var undoDiff=util.textDiff(this.value+"",this.previousValue+"");oldSelection.range.startOffset=undoDiff.start;oldSelection.range.endOffset=undoDiff.end}var newSelection=this.editor.getSelection();if(newSelection.range){var redoDiff=util.textDiff(this.previousValue+"",this.value+"");newSelection.range.startOffset=redoDiff.start;newSelection.range.endOffset=redoDiff.end}this.editor._onAction("editValue",{node:this,oldValue:this.previousValue,newValue:this.value,oldSelection:oldSelection,newSelection:newSelection});this.previousValue=this.value};Node.prototype._onChangeField=function(){var oldSelection=this.editor.getSelection();if(oldSelection.range){var undoDiff=util.textDiff(this.field,this.previousField);oldSelection.range.startOffset=undoDiff.start;oldSelection.range.endOffset=undoDiff.end}var newSelection=this.editor.getSelection();if(newSelection.range){var redoDiff=util.textDiff(this.previousField,this.field);newSelection.range.startOffset=redoDiff.start;newSelection.range.endOffset=redoDiff.end}this.editor._onAction("editField",{node:this,oldValue:this.previousField,newValue:this.field,oldSelection:oldSelection,newSelection:newSelection});this.previousField=this.field};Node.prototype._updateDomValue=function(){var domValue=this.dom.value;if(domValue){var classNames=["jsoneditor-value"],value=this.value,type="auto"==this.type?util.type(value):this.type,isUrl="string"==type&&util.isUrl(value);classNames.push("jsoneditor-"+type);if(isUrl){classNames.push("jsoneditor-url")}var isEmpty=""==this.value+""&&"array"!=this.type&&"object"!=this.type;if(isEmpty){classNames.push("jsoneditor-empty")}if(this.searchValueActive){classNames.push("jsoneditor-highlight-active")}if(this.searchValue){classNames.push("jsoneditor-highlight")}domValue.className=classNames.join(" ");if("array"==type||"object"==type){var count=this.childs?this.childs.length:0;domValue.title=this.type+" containing "+count+" items"}else if(isUrl&&this.editable.value){domValue.title="Ctrl+Click or Ctrl+Enter to open url in new window"}else{domValue.title=""}if("boolean"===type&&this.editable.value){if(!this.dom.checkbox){this.dom.checkbox=document.createElement("input");this.dom.checkbox.type="checkbox";this.dom.tdCheckbox=document.createElement("td");this.dom.tdCheckbox.className="jsoneditor-tree";this.dom.tdCheckbox.appendChild(this.dom.checkbox);this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)}this.dom.checkbox.checked=this.value}else{if(this.dom.tdCheckbox){this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox);delete this.dom.tdCheckbox;delete this.dom.checkbox}}if(this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select");this.id=this.field+"_"+new Date().getUTCMilliseconds();this.dom.select.id=this.id;this.dom.select.name=this.dom.select.id;this.dom.select.option=document.createElement("option");this.dom.select.option.value="";this.dom.select.option.innerHTML="--";this.dom.select.appendChild(this.dom.select.option);for(var i=0;i<this.enum.length;i++){this.dom.select.option=document.createElement("option");this.dom.select.option.value=this.enum[i];this.dom.select.option.innerHTML=this.enum[i];if(this.dom.select.option.value==this.value){this.dom.select.option.selected=!0}this.dom.select.appendChild(this.dom.select.option)}this.dom.tdSelect=document.createElement("td");this.dom.tdSelect.className="jsoneditor-tree";this.dom.tdSelect.appendChild(this.dom.select);this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}if(this.schema&&!this.schema.hasOwnProperty("oneOf")&&!this.schema.hasOwnProperty("anyOf")&&!this.schema.hasOwnProperty("allOf")){this.valueFieldHTML=this.dom.tdValue.innerHTML;this.dom.tdValue.style.visibility="hidden";this.dom.tdValue.innerHTML=""}else{delete this.valueFieldHTML}}else{if(this.dom.tdSelect){this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect);delete this.dom.tdSelect;delete this.dom.select;this.dom.tdValue.innerHTML=this.valueFieldHTML;this.dom.tdValue.style.visibility="";delete this.valueFieldHTML}}util.stripFormatting(domValue)}};Node.prototype._updateDomField=function(){var domField=this.dom.field;if(domField){var isEmpty=""==this.field+""&&"array"!=this.parent.type;if(isEmpty){util.addClassName(domField,"jsoneditor-empty")}else{util.removeClassName(domField,"jsoneditor-empty")}if(this.searchFieldActive){util.addClassName(domField,"jsoneditor-highlight-active")}else{util.removeClassName(domField,"jsoneditor-highlight-active")}if(this.searchField){util.addClassName(domField,"jsoneditor-highlight")}else{util.removeClassName(domField,"jsoneditor-highlight")}util.stripFormatting(domField)}};Node.prototype._getDomField=function(silent){if(this.dom.field&&this.fieldEditable){this.fieldInnerText=util.getInnerText(this.dom.field)}if(this.fieldInnerText!=void 0){try{var field=this._unescapeHTML(this.fieldInnerText);if(field!==this.field){this.field=field;this._debouncedOnChangeField()}}catch(err){this.field=void 0;if(!0!==silent){throw err}}}};Node.prototype.validate=function(){var errors=[];if("object"===this.type){for(var keys={},duplicateKeys=[],i=0,child;i<this.childs.length;i++){child=this.childs[i];if(keys.hasOwnProperty(child.field)){duplicateKeys.push(child.field)}keys[child.field]=!0}if(0<duplicateKeys.length){errors=this.childs.filter(function(node){return-1!==duplicateKeys.indexOf(node.field)}).map(function(node){return{node:node,error:{message:"duplicate key \""+node.field+"\""}}})}}if(this.childs){for(var i=0,e;i<this.childs.length;i++){e=this.childs[i].validate();if(0<e.length){errors=errors.concat(e)}}}return errors};Node.prototype.clearDom=function(){this.dom={}};Node.prototype.getDom=function(){var dom=this.dom;if(dom.tr){return dom.tr}this._updateEditability();dom.tr=document.createElement("tr");dom.tr.node=this;if("tree"===this.editor.options.mode){var tdDrag=document.createElement("td");if(this.editable.field){if(this.parent){var domDrag=document.createElement("button");domDrag.type="button";dom.drag=domDrag;domDrag.className="jsoneditor-dragarea";domDrag.title="Drag to move this field (Alt+Shift+Arrows)";tdDrag.appendChild(domDrag)}}dom.tr.appendChild(tdDrag);var tdMenu=document.createElement("td"),menu=document.createElement("button");menu.type="button";dom.menu=menu;menu.className="jsoneditor-contextmenu";menu.title="Click to open the actions menu (Ctrl+M)";tdMenu.appendChild(dom.menu);dom.tr.appendChild(tdMenu)}var tdField=document.createElement("td");dom.tr.appendChild(tdField);dom.tree=this._createDomTree();tdField.appendChild(dom.tree);this.updateDom({updateIndexes:!0});return dom.tr};Node.onDragStart=function(nodes,event){if(!Array.isArray(nodes)){return Node.onDragStart([nodes],event)}if(0===nodes.length){return}var firstNode=nodes[0],lastNode=nodes[nodes.length-1],draggedNode=Node.getNodeFromTarget(event.target),beforeNode=lastNode._nextSibling(),editor=firstNode.editor,offsetY=util.getAbsoluteTop(draggedNode.dom.tr)-util.getAbsoluteTop(firstNode.dom.tr);if(!editor.mousemove){editor.mousemove=util.addEventListener(window,"mousemove",function(event){Node.onDrag(nodes,event)})}if(!editor.mouseup){editor.mouseup=util.addEventListener(window,"mouseup",function(event){Node.onDragEnd(nodes,event)})}editor.highlighter.lock();editor.drag={oldCursor:document.body.style.cursor,oldSelection:editor.getSelection(),oldBeforeNode:beforeNode,mouseX:event.pageX,offsetY:offsetY,level:firstNode.getLevel()};document.body.style.cursor="move";event.preventDefault()};Node.onDrag=function(nodes,event){if(!Array.isArray(nodes)){return Node.onDrag([nodes],event)}if(0===nodes.length){return}var editor=nodes[0].editor,mouseY=event.pageY-editor.drag.offsetY,mouseX=event.pageX,trThis,trPrev,trNext,trFirst,trLast,trRoot,nodePrev,nodeNext,topThis,topPrev,topFirst,heightThis,bottomNext,heightNext,moved=!1,firstNode=nodes[0];trThis=firstNode.dom.tr;topThis=util.getAbsoluteTop(trThis);heightThis=trThis.offsetHeight;if(mouseY<topThis){trPrev=trThis;do{trPrev=trPrev.previousSibling;nodePrev=Node.getNodeFromTarget(trPrev);topPrev=trPrev?util.getAbsoluteTop(trPrev):0}while(trPrev&&mouseY<topPrev);if(nodePrev&&!nodePrev.parent){nodePrev=void 0}if(!nodePrev){trRoot=trThis.parentNode.firstChild;trPrev=trRoot?trRoot.nextSibling:void 0;nodePrev=Node.getNodeFromTarget(trPrev);if(nodePrev==firstNode){nodePrev=void 0}}if(nodePrev){trPrev=nodePrev.dom.tr;topPrev=trPrev?util.getAbsoluteTop(trPrev):0;if(mouseY>topPrev+heightThis){nodePrev=void 0}}if(nodePrev){nodes.forEach(function(node){nodePrev.parent.moveBefore(node,nodePrev)});moved=!0}}else{var lastNode=nodes[nodes.length-1];trLast=lastNode.expanded&&lastNode.append?lastNode.append.getDom():lastNode.dom.tr;trFirst=trLast?trLast.nextSibling:void 0;if(trFirst){topFirst=util.getAbsoluteTop(trFirst);trNext=trFirst;do{nodeNext=Node.getNodeFromTarget(trNext);if(trNext){bottomNext=trNext.nextSibling?util.getAbsoluteTop(trNext.nextSibling):0;heightNext=trNext?bottomNext-topFirst:0;if(nodeNext.parent.childs.length==nodes.length&&nodeNext.parent.childs[nodes.length-1]==lastNode){topThis+=27}}trNext=trNext.nextSibling}while(trNext&&mouseY>topThis+heightNext);if(nodeNext&&nodeNext.parent){var diffX=mouseX-editor.drag.mouseX,diffLevel=Math.round(diffX/24/2),level=editor.drag.level+diffLevel,levelNext=nodeNext.getLevel();trPrev=nodeNext.dom.tr.previousSibling;while(levelNext<level&&trPrev){nodePrev=Node.getNodeFromTarget(trPrev);var isDraggedNode=nodes.some(function(node){return node===nodePrev||nodePrev._isChildOf(node)});if(isDraggedNode){}else if(babelHelpers.instanceof(nodePrev,AppendNode)){var childs=nodePrev.parent.childs;if(childs.length!=nodes.length||childs[nodes.length-1]!=lastNode){nodeNext=Node.getNodeFromTarget(trPrev);levelNext=nodeNext.getLevel()}else{break}}else{break}trPrev=trPrev.previousSibling}if(trLast.nextSibling!=nodeNext.dom.tr){nodes.forEach(function(node){nodeNext.parent.moveBefore(node,nodeNext)});moved=!0}}}}if(moved){editor.drag.mouseX=mouseX;editor.drag.level=firstNode.getLevel()}editor.startAutoScroll(mouseY);event.preventDefault()};Node.onDragEnd=function(nodes,event){if(!Array.isArray(nodes)){return Node.onDrag([nodes],event)}if(0===nodes.length){return}var firstNode=nodes[0],editor=firstNode.editor,parent=firstNode.parent,firstIndex=parent.childs.indexOf(firstNode),beforeNode=parent.childs[firstIndex+nodes.length]||parent.append;if(nodes[0]){nodes[0].dom.menu.focus()}var params={nodes:nodes,oldSelection:editor.drag.oldSelection,newSelection:editor.getSelection(),oldBeforeNode:editor.drag.oldBeforeNode,newBeforeNode:beforeNode};if(params.oldBeforeNode!=params.newBeforeNode){editor._onAction("moveNodes",params)}document.body.style.cursor=editor.drag.oldCursor;editor.highlighter.unlock();nodes.forEach(function(node){if(event.target!==node.dom.drag&&event.target!==node.dom.menu){editor.highlighter.unhighlight()}});delete editor.drag;if(editor.mousemove){util.removeEventListener(window,"mousemove",editor.mousemove);delete editor.mousemove}if(editor.mouseup){util.removeEventListener(window,"mouseup",editor.mouseup);delete editor.mouseup}editor.stopAutoScroll();event.preventDefault()};Node.prototype._isChildOf=function(node){var n=this.parent;while(n){if(n==node){return!0}n=n.parent}return!1};Node.prototype._createDomField=function(){return document.createElement("div")};Node.prototype.setHighlight=function(highlight){if(this.dom.tr){if(highlight){util.addClassName(this.dom.tr,"jsoneditor-highlight")}else{util.removeClassName(this.dom.tr,"jsoneditor-highlight")}if(this.append){this.append.setHighlight(highlight)}if(this.childs){this.childs.forEach(function(child){child.setHighlight(highlight)})}}};Node.prototype.setSelected=function(selected,isFirst){this.selected=selected;if(this.dom.tr){if(selected){util.addClassName(this.dom.tr,"jsoneditor-selected")}else{util.removeClassName(this.dom.tr,"jsoneditor-selected")}if(isFirst){util.addClassName(this.dom.tr,"jsoneditor-first")}else{util.removeClassName(this.dom.tr,"jsoneditor-first")}if(this.append){this.append.setSelected(selected)}if(this.childs){this.childs.forEach(function(child){child.setSelected(selected)})}}};Node.prototype.updateValue=function(value){this.value=value;this.updateDom()};Node.prototype.updateField=function(field){this.field=field;this.updateDom()};Node.prototype.updateDom=function(options){var domTree=this.dom.tree;if(domTree){domTree.style.marginLeft=24*this.getLevel()+"px"}var domField=this.dom.field;if(domField){if(this.fieldEditable){domField.contentEditable=this.editable.field;domField.spellcheck=!1;domField.className="jsoneditor-field"}else{domField.className="jsoneditor-readonly"}var fieldText;if(this.index!=void 0){fieldText=this.index}else if(this.field!=void 0){fieldText=this.field}else if(this._hasChilds()){fieldText=this.type}else{fieldText=""}domField.innerHTML=this._escapeHTML(fieldText);this._updateSchema()}var domValue=this.dom.value;if(domValue){var count=this.childs?this.childs.length:0;if("array"==this.type){domValue.innerHTML="["+count+"]";util.addClassName(this.dom.tr,"jsoneditor-expandable")}else if("object"==this.type){domValue.innerHTML="{"+count+"}";util.addClassName(this.dom.tr,"jsoneditor-expandable")}else{domValue.innerHTML=this._escapeHTML(this.value);util.removeClassName(this.dom.tr,"jsoneditor-expandable")}}this._updateDomField();this._updateDomValue();if(options&&!0===options.updateIndexes){this._updateDomIndexes()}if(options&&!0===options.recurse){if(this.childs){this.childs.forEach(function(child){child.updateDom(options)})}}if(this.append){this.append.updateDom()}};Node.prototype._updateSchema=function(){if(this.editor&&this.editor.options){this.schema=Node._findSchema(this.editor.options.schema,this.getPath());if(this.schema){this.enum=Node._findEnum(this.schema)}else{delete this.enum}}};Node._findEnum=function(schema){if(schema.enum){return schema.enum}var composite=schema.oneOf||schema.anyOf||schema.allOf;if(composite){var match=composite.filter(function(entry){return entry.enum});if(0<match.length){return match[0].enum}}return null};Node._findSchema=function(schema,path){for(var childSchema=schema,i=0,key;i<path.length&&childSchema;i++){key=path[i];if("string"===typeof key&&childSchema.properties){childSchema=childSchema.properties[key]||null}else if("number"===typeof key&&childSchema.items){childSchema=childSchema.items}}return childSchema};Node.prototype._updateDomIndexes=function(){var domValue=this.dom.value,childs=this.childs;if(domValue&&childs){if("array"==this.type){childs.forEach(function(child,index){child.index=index;var childField=child.dom.field;if(childField){childField.innerHTML=index}})}else if("object"==this.type){childs.forEach(function(child){if(child.index!=void 0){delete child.index;if(child.field==void 0){child.field=""}}})}}};Node.prototype._createDomValue=function(){var domValue;if("array"==this.type){domValue=document.createElement("div");domValue.innerHTML="[...]"}else if("object"==this.type){domValue=document.createElement("div");domValue.innerHTML="{...}"}else{if(!this.editable.value&&util.isUrl(this.value)){domValue=document.createElement("a");domValue.href=this.value;domValue.target="_blank";domValue.innerHTML=this._escapeHTML(this.value)}else{domValue=document.createElement("div");domValue.contentEditable=this.editable.value;domValue.spellcheck=!1;domValue.innerHTML=this._escapeHTML(this.value)}}return domValue};Node.prototype._createDomExpandButton=function(){var expand=document.createElement("button");expand.type="button";if(this._hasChilds()){expand.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed";expand.title="Click to expand/collapse this field (Ctrl+E). \n"+"Ctrl+Click to expand/collapse including all childs."}else{expand.className="jsoneditor-invisible";expand.title=""}return expand};Node.prototype._createDomTree=function(){var dom=this.dom,domTree=document.createElement("table"),tbody=document.createElement("tbody");domTree.style.borderCollapse="collapse";domTree.className="jsoneditor-values";domTree.appendChild(tbody);var tr=document.createElement("tr");tbody.appendChild(tr);var tdExpand=document.createElement("td");tdExpand.className="jsoneditor-tree";tr.appendChild(tdExpand);dom.expand=this._createDomExpandButton();tdExpand.appendChild(dom.expand);dom.tdExpand=tdExpand;var tdField=document.createElement("td");tdField.className="jsoneditor-tree";tr.appendChild(tdField);dom.field=this._createDomField();tdField.appendChild(dom.field);dom.tdField=tdField;var tdSeparator=document.createElement("td");tdSeparator.className="jsoneditor-tree";tr.appendChild(tdSeparator);if("object"!=this.type&&"array"!=this.type){tdSeparator.appendChild(document.createTextNode(":"));tdSeparator.className="jsoneditor-separator"}dom.tdSeparator=tdSeparator;var tdValue=document.createElement("td");tdValue.className="jsoneditor-tree";tr.appendChild(tdValue);dom.value=this._createDomValue();tdValue.appendChild(dom.value);dom.tdValue=tdValue;return domTree};Node.prototype.onEvent=function(event){var type=event.type,target=event.target||event.srcElement,dom=this.dom,node=this,expandable=this._hasChilds();if(target==dom.drag||target==dom.menu){if("mouseover"==type){this.editor.highlighter.highlight(this)}else if("mouseout"==type){this.editor.highlighter.unhighlight()}}if("click"==type&&target==dom.menu){var highlighter=node.editor.highlighter;highlighter.highlight(node);highlighter.lock();util.addClassName(dom.menu,"jsoneditor-selected");this.showContextMenu(dom.menu,function(){util.removeClassName(dom.menu,"jsoneditor-selected");highlighter.unlock();highlighter.unhighlight()})}if("click"==type){if(target==dom.expand||("view"===node.editor.options.mode||"form"===node.editor.options.mode)&&"DIV"===target.nodeName){if(expandable){var recurse=event.ctrlKey;this._onExpand(recurse)}}}if("change"==type&&target==dom.checkbox){this.dom.value.innerHTML=!this.value;this._getDomValue()}if("change"==type&&target==dom.select){this.dom.value.innerHTML=dom.select.value;this._getDomValue();this._updateDomValue()}var domValue=dom.value;if(target==domValue){switch(type){case"blur":case"change":this._getDomValue(!0);this._updateDomValue();if(this.value){domValue.innerHTML=this._escapeHTML(this.value)}break;case"input":this._getDomValue(!0);this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getSelection();break;case"click":if(event.ctrlKey||!this.editable.value){if(util.isUrl(this.value)){window.open(this.value,"_blank")}}break;case"keyup":this._getDomValue(!0);this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){node._getDomValue(!0);node._updateDomValue()},1);break;}}var domField=dom.field;if(target==domField){switch(type){case"blur":case"change":this._getDomField(!0);this._updateDomField();if(this.field){domField.innerHTML=this._escapeHTML(this.field)}break;case"input":this._getDomField(!0);this._updateSchema();this._updateDomField();this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getSelection();break;case"keyup":this._getDomField(!0);this._updateDomField();break;case"cut":case"paste":setTimeout(function(){node._getDomField(!0);node._updateDomField()},1);break;}}var domTree=dom.tree;if(target==domTree.parentNode&&"click"==type&&!event.hasMoved){var left=event.offsetX!=void 0?event.offsetX<24*(this.getLevel()+1):event.pageX<util.getAbsoluteLeft(dom.tdSeparator);if(left||expandable){if(domField){util.setEndOfContentEditable(domField);domField.focus()}}else{if(domValue&&!this.enum){util.setEndOfContentEditable(domValue);domValue.focus()}}}if((target==dom.tdExpand&&!expandable||target==dom.tdField||target==dom.tdSeparator)&&"click"==type&&!event.hasMoved){if(domField){util.setEndOfContentEditable(domField);domField.focus()}}if("keydown"==type){this.onKeyDown(event)}};Node.prototype.onKeyDown=function(event){var keynum=event.which||event.keyCode,target=event.target||event.srcElement,ctrlKey=event.ctrlKey,shiftKey=event.shiftKey,altKey=event.altKey,handled=!1,prevNode,nextNode,nextDom,nextDom2,editable="tree"===this.editor.options.mode,oldSelection,oldBeforeNode,nodes,multiselection,selectedNodes=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],firstNode=selectedNodes[0],lastNode=selectedNodes[selectedNodes.length-1];if(13==keynum){if(target==this.dom.value){if(!this.editable.value||event.ctrlKey){if(util.isUrl(this.value)){window.open(this.value,"_blank");handled=!0}}}else if(target==this.dom.expand){var expandable=this._hasChilds();if(expandable){var recurse=event.ctrlKey;this._onExpand(recurse);target.focus();handled=!0}}}else if(68==keynum){if(ctrlKey&&editable){Node.onDuplicate(selectedNodes);handled=!0}}else if(69==keynum){if(ctrlKey){this._onExpand(shiftKey);target.focus();handled=!0}}else if(77==keynum&&editable){if(ctrlKey){this.showContextMenu(target);handled=!0}}else if(46==keynum&&editable){if(ctrlKey){Node.onRemove(selectedNodes);handled=!0}}else if(45==keynum&&editable){if(ctrlKey&&!shiftKey){this._onInsertBefore();handled=!0}else if(ctrlKey&&shiftKey){this._onInsertAfter();handled=!0}}else if(35==keynum){if(altKey){var endNode=this._lastNode();if(endNode){endNode.focus(Node.focusElement||this._getElementName(target))}handled=!0}}else if(36==keynum){if(altKey){var homeNode=this._firstNode();if(homeNode){homeNode.focus(Node.focusElement||this._getElementName(target))}handled=!0}}else if(37==keynum){if(altKey&&!shiftKey){var prevElement=this._previousElement(target);if(prevElement){this.focus(this._getElementName(prevElement))}handled=!0}else if(altKey&&shiftKey&&editable){if(lastNode.expanded){var appendDom=lastNode.getAppend();nextDom=appendDom?appendDom.nextSibling:void 0}else{var dom=lastNode.getDom();nextDom=dom.nextSibling}if(nextDom){nextNode=Node.getNodeFromTarget(nextDom);nextDom2=nextDom.nextSibling;nextNode2=Node.getNodeFromTarget(nextDom2);if(nextNode&&babelHelpers.instanceof(nextNode,AppendNode)&&!(1==lastNode.parent.childs.length)&&nextNode2&&nextNode2.parent){oldSelection=this.editor.getSelection();oldBeforeNode=lastNode._nextSibling();selectedNodes.forEach(function(node){nextNode2.parent.moveBefore(node,nextNode2)});this.focus(Node.focusElement||this._getElementName(target));this.editor._onAction("moveNodes",{nodes:selectedNodes,oldBeforeNode:oldBeforeNode,newBeforeNode:nextNode2,oldSelection:oldSelection,newSelection:this.editor.getSelection()})}}}}else if(38==keynum){if(altKey&&!shiftKey){prevNode=this._previousNode();if(prevNode){this.editor.deselect(!0);prevNode.focus(Node.focusElement||this._getElementName(target))}handled=!0}else if(!altKey&&ctrlKey&&shiftKey&&editable){prevNode=this._previousNode();if(prevNode){multiselection=this.editor.multiselection;multiselection.start=multiselection.start||this;multiselection.end=prevNode;nodes=this.editor._findTopLevelNodes(multiselection.start,multiselection.end);this.editor.select(nodes);prevNode.focus("field")}handled=!0}else if(altKey&&shiftKey&&editable){prevNode=firstNode._previousNode();if(prevNode&&prevNode.parent){oldSelection=this.editor.getSelection();oldBeforeNode=lastNode._nextSibling();selectedNodes.forEach(function(node){prevNode.parent.moveBefore(node,prevNode)});this.focus(Node.focusElement||this._getElementName(target));this.editor._onAction("moveNodes",{nodes:selectedNodes,oldBeforeNode:oldBeforeNode,newBeforeNode:prevNode,oldSelection:oldSelection,newSelection:this.editor.getSelection()})}handled=!0}}else if(39==keynum){if(altKey&&!shiftKey){var nextElement=this._nextElement(target);if(nextElement){this.focus(this._getElementName(nextElement))}handled=!0}else if(altKey&&shiftKey&&editable){dom=firstNode.getDom();var prevDom=dom.previousSibling;if(prevDom){prevNode=Node.getNodeFromTarget(prevDom);if(prevNode&&prevNode.parent&&babelHelpers.instanceof(prevNode,AppendNode)&&!prevNode.isVisible()){oldSelection=this.editor.getSelection();oldBeforeNode=lastNode._nextSibling();selectedNodes.forEach(function(node){prevNode.parent.moveBefore(node,prevNode)});this.focus(Node.focusElement||this._getElementName(target));this.editor._onAction("moveNodes",{nodes:selectedNodes,oldBeforeNode:oldBeforeNode,newBeforeNode:prevNode,oldSelection:oldSelection,newSelection:this.editor.getSelection()})}}}}else if(40==keynum){if(altKey&&!shiftKey){nextNode=this._nextNode();if(nextNode){this.editor.deselect(!0);nextNode.focus(Node.focusElement||this._getElementName(target))}handled=!0}else if(!altKey&&ctrlKey&&shiftKey&&editable){nextNode=this._nextNode();if(nextNode){multiselection=this.editor.multiselection;multiselection.start=multiselection.start||this;multiselection.end=nextNode;nodes=this.editor._findTopLevelNodes(multiselection.start,multiselection.end);this.editor.select(nodes);nextNode.focus("field")}handled=!0}else if(altKey&&shiftKey&&editable){if(lastNode.expanded){nextNode=lastNode.append?lastNode.append._nextNode():void 0}else{nextNode=lastNode._nextNode()}var nextNode2=nextNode&&(nextNode._nextNode()||nextNode.parent.append);if(nextNode2&&nextNode2.parent){oldSelection=this.editor.getSelection();oldBeforeNode=lastNode._nextSibling();selectedNodes.forEach(function(node){nextNode2.parent.moveBefore(node,nextNode2)});this.focus(Node.focusElement||this._getElementName(target));this.editor._onAction("moveNodes",{nodes:selectedNodes,oldBeforeNode:oldBeforeNode,newBeforeNode:nextNode2,oldSelection:oldSelection,newSelection:this.editor.getSelection()})}handled=!0}}if(handled){event.preventDefault();event.stopPropagation()}};Node.prototype._onExpand=function(recurse){if(recurse){var table=this.dom.tr.parentNode,frame=table.parentNode,scrollTop=frame.scrollTop;frame.removeChild(table)}if(this.expanded){this.collapse(recurse)}else{this.expand(recurse)}if(recurse){frame.appendChild(table);frame.scrollTop=scrollTop}};Node.onRemove=function(nodes){if(!Array.isArray(nodes)){return Node.onRemove([nodes])}if(nodes&&0<nodes.length){var firstNode=nodes[0],parent=firstNode.parent,editor=firstNode.editor,firstIndex=firstNode.getIndex();editor.highlighter.unhighlight();var oldSelection=editor.getSelection();Node.blurNodes(nodes);var newSelection=editor.getSelection();nodes.forEach(function(node){node.parent._remove(node)});editor._onAction("removeNodes",{nodes:nodes.slice(0),parent:parent,index:firstIndex,oldSelection:oldSelection,newSelection:newSelection})}};Node.onDuplicate=function(nodes){if(!Array.isArray(nodes)){return Node.onDuplicate([nodes])}if(nodes&&0<nodes.length){var lastNode=nodes[nodes.length-1],parent=lastNode.parent,editor=lastNode.editor;editor.deselect(editor.multiselection.nodes);var oldSelection=editor.getSelection(),afterNode=lastNode,clones=nodes.map(function(node){var clone=node.clone();parent.insertAfter(clone,afterNode);afterNode=clone;return clone});if(1===nodes.length){clones[0].focus()}else{editor.select(clones)}var newSelection=editor.getSelection();editor._onAction("duplicateNodes",{afterNode:lastNode,nodes:clones,parent:parent,oldSelection:oldSelection,newSelection:newSelection})}};Node.prototype._onInsertBefore=function(field,value,type){var oldSelection=this.editor.getSelection(),newNode=new Node(this.editor,{field:field!=void 0?field:"",value:value!=void 0?value:"",type:type});newNode.expand(!0);this.parent.insertBefore(newNode,this);this.editor.highlighter.unhighlight();newNode.focus("field");var newSelection=this.editor.getSelection();this.editor._onAction("insertBeforeNodes",{nodes:[newNode],beforeNode:this,parent:this.parent,oldSelection:oldSelection,newSelection:newSelection})};Node.prototype._onInsertAfter=function(field,value,type){var oldSelection=this.editor.getSelection(),newNode=new Node(this.editor,{field:field!=void 0?field:"",value:value!=void 0?value:"",type:type});newNode.expand(!0);this.parent.insertAfter(newNode,this);this.editor.highlighter.unhighlight();newNode.focus("field");var newSelection=this.editor.getSelection();this.editor._onAction("insertAfterNodes",{nodes:[newNode],afterNode:this,parent:this.parent,oldSelection:oldSelection,newSelection:newSelection})};Node.prototype._onAppend=function(field,value,type){var oldSelection=this.editor.getSelection(),newNode=new Node(this.editor,{field:field!=void 0?field:"",value:value!=void 0?value:"",type:type});newNode.expand(!0);this.parent.appendChild(newNode);this.editor.highlighter.unhighlight();newNode.focus("field");var newSelection=this.editor.getSelection();this.editor._onAction("appendNodes",{nodes:[newNode],parent:this.parent,oldSelection:oldSelection,newSelection:newSelection})};Node.prototype._onChangeType=function(newType){var oldType=this.type;if(newType!=oldType){var oldSelection=this.editor.getSelection();this.changeType(newType);var newSelection=this.editor.getSelection();this.editor._onAction("changeType",{node:this,oldType:oldType,newType:newType,oldSelection:oldSelection,newSelection:newSelection})}};Node.prototype.sort=function(direction){if(!this._hasChilds()){return}var order="desc"==direction?-1:1,prop="array"==this.type?"value":"field";this.hideChilds();var oldChilds=this.childs,oldSortOrder=this.sortOrder;this.childs=this.childs.concat();this.childs.sort(function(a,b){return order*naturalSort(a[prop],b[prop])});this.sortOrder=1==order?"asc":"desc";this.editor._onAction("sort",{node:this,oldChilds:oldChilds,oldSort:oldSortOrder,newChilds:this.childs,newSort:this.sortOrder});this.showChilds()};Node.prototype.getAppend=function(){if(!this.append){this.append=new AppendNode(this.editor);this.append.setParent(this)}return this.append.getDom()};Node.getNodeFromTarget=function(target){while(target){if(target.node){return target.node}target=target.parentNode}};Node.blurNodes=function(nodes){if(!Array.isArray(nodes)){Node.blurNodes([nodes]);return}var firstNode=nodes[0],parent=firstNode.parent,firstIndex=firstNode.getIndex();if(parent.childs[firstIndex+nodes.length]){parent.childs[firstIndex+nodes.length].focus()}else if(parent.childs[firstIndex-1]){parent.childs[firstIndex-1].focus()}else{parent.focus()}};Node.prototype._nextSibling=function(){var index=this.parent.childs.indexOf(this);return this.parent.childs[index+1]||this.parent.append};Node.prototype._previousNode=function(){var prevNode=null,dom=this.getDom();if(dom&&dom.parentNode){var prevDom=dom;do{prevDom=prevDom.previousSibling;prevNode=Node.getNodeFromTarget(prevDom)}while(prevDom&&babelHelpers.instanceof(prevNode,AppendNode)&&!prevNode.isVisible())}return prevNode};Node.prototype._nextNode=function(){var nextNode=null,dom=this.getDom();if(dom&&dom.parentNode){var nextDom=dom;do{nextDom=nextDom.nextSibling;nextNode=Node.getNodeFromTarget(nextDom)}while(nextDom&&babelHelpers.instanceof(nextNode,AppendNode)&&!nextNode.isVisible())}return nextNode};Node.prototype._firstNode=function(){var firstNode=null,dom=this.getDom();if(dom&&dom.parentNode){var firstDom=dom.parentNode.firstChild;firstNode=Node.getNodeFromTarget(firstDom)}return firstNode};Node.prototype._lastNode=function(){var lastNode=null,dom=this.getDom();if(dom&&dom.parentNode){var lastDom=dom.parentNode.lastChild;lastNode=Node.getNodeFromTarget(lastDom);while(lastDom&&babelHelpers.instanceof(lastNode,AppendNode)&&!lastNode.isVisible()){lastDom=lastDom.previousSibling;lastNode=Node.getNodeFromTarget(lastDom)}}return lastNode};Node.prototype._previousElement=function(elem){var dom=this.dom;switch(elem){case dom.value:if(this.fieldEditable){return dom.field}case dom.field:if(this._hasChilds()){return dom.expand}case dom.expand:return dom.menu;case dom.menu:if(dom.drag){return dom.drag}default:return null;}};Node.prototype._nextElement=function(elem){var dom=this.dom;switch(elem){case dom.drag:return dom.menu;case dom.menu:if(this._hasChilds()){return dom.expand}case dom.expand:if(this.fieldEditable){return dom.field}case dom.field:if(!this._hasChilds()){return dom.value}default:return null;}};Node.prototype._getElementName=function(element){var dom=this.dom;for(var name in dom){if(dom.hasOwnProperty(name)){if(dom[name]==element){return name}}}return null};Node.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type};Node.TYPE_TITLES={auto:"Field type \"auto\". "+"The field type is automatically determined from the value "+"and can be a string, number, boolean, or null.",object:"Field type \"object\". "+"An object contains an unordered set of key/value pairs.",array:"Field type \"array\". "+"An array contains an ordered collection of values.",string:"Field type \"string\". "+"Field type is not determined from the value, "+"but always returned as string."};Node.prototype.showContextMenu=function(anchor,onClose){var node=this,titles=Node.TYPE_TITLES,items=[];if(this.editable.value){items.push({text:"Type",title:"Change the type of this field",className:"jsoneditor-type-"+this.type,submenu:[{text:"Auto",className:"jsoneditor-type-auto"+("auto"==this.type?" jsoneditor-selected":""),title:titles.auto,click:function click(){node._onChangeType("auto")}},{text:"Array",className:"jsoneditor-type-array"+("array"==this.type?" jsoneditor-selected":""),title:titles.array,click:function click(){node._onChangeType("array")}},{text:"Object",className:"jsoneditor-type-object"+("object"==this.type?" jsoneditor-selected":""),title:titles.object,click:function click(){node._onChangeType("object")}},{text:"String",className:"jsoneditor-type-string"+("string"==this.type?" jsoneditor-selected":""),title:titles.string,click:function click(){node._onChangeType("string")}}]})}if(this._hasChilds()){var direction="asc"==this.sortOrder?"desc":"asc";items.push({text:"Sort",title:"Sort the childs of this "+this.type,className:"jsoneditor-sort-"+direction,click:function click(){node.sort(direction)},submenu:[{text:"Ascending",className:"jsoneditor-sort-asc",title:"Sort the childs of this "+this.type+" in ascending order",click:function click(){node.sort("asc")}},{text:"Descending",className:"jsoneditor-sort-desc",title:"Sort the childs of this "+this.type+" in descending order",click:function click(){node.sort("desc")}}]})}if(this.parent&&this.parent._hasChilds()){if(items.length){items.push({type:"separator"})}var childs=node.parent.childs;if(node==childs[childs.length-1]){items.push({text:"Append",title:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",submenuTitle:"Select the type of the field to be appended",className:"jsoneditor-append",click:function click(){node._onAppend("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:titles.auto,click:function click(){node._onAppend("","","auto")}},{text:"Array",className:"jsoneditor-type-array",title:titles.array,click:function click(){node._onAppend("",[])}},{text:"Object",className:"jsoneditor-type-object",title:titles.object,click:function click(){node._onAppend("",{})}},{text:"String",className:"jsoneditor-type-string",title:titles.string,click:function click(){node._onAppend("","","string")}}]})}items.push({text:"Insert",title:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",submenuTitle:"Select the type of the field to be inserted",className:"jsoneditor-insert",click:function click(){node._onInsertBefore("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:titles.auto,click:function click(){node._onInsertBefore("","","auto")}},{text:"Array",className:"jsoneditor-type-array",title:titles.array,click:function click(){node._onInsertBefore("",[])}},{text:"Object",className:"jsoneditor-type-object",title:titles.object,click:function click(){node._onInsertBefore("",{})}},{text:"String",className:"jsoneditor-type-string",title:titles.string,click:function click(){node._onInsertBefore("","","string")}}]});if(this.editable.field){items.push({text:"Duplicate",title:"Duplicate this field (Ctrl+D)",className:"jsoneditor-duplicate",click:function click(){Node.onDuplicate(node)}});items.push({text:"Remove",title:"Remove this field (Ctrl+Del)",className:"jsoneditor-remove",click:function click(){Node.onRemove(node)}})}}var menu=new ContextMenu(items,{close:onClose});menu.show(anchor,this.editor.content)};Node.prototype._getType=function(value){if(babelHelpers.instanceof(value,Array)){return"array"}if(babelHelpers.instanceof(value,Object)){return"object"}if("string"==typeof value&&"string"!=typeof this._stringCast(value)){return"string"}return"auto"};Node.prototype._stringCast=function(str){var lower=str.toLowerCase(),num=+str,numFloat=parseFloat(str);if(""==str){return""}else if("null"==lower){return null}else if("true"==lower){return!0}else if("false"==lower){return!1}else if(!isNaN(num)&&!isNaN(numFloat)){return num}else{return str}};Node.prototype._escapeHTML=function(text){if("string"!==typeof text){return text+""}else{var htmlEscaped=(text+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),json=JSON.stringify(htmlEscaped),html=json.substring(1,json.length-1);if(!0===this.editor.options.escapeUnicode){html=util.escapeUnicodeChars(html)}return html}};Node.prototype._unescapeHTML=function(escapedText){var json="\""+this._escapeJSON(escapedText)+"\"",htmlEscaped=util.parse(json);return htmlEscaped.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")};Node.prototype._escapeJSON=function(text){var escaped="",i=0;while(i<text.length){var c=text.charAt(i);if("\n"==c){escaped+="\\n"}else if("\\"==c){escaped+=c;i++;c=text.charAt(i);if(""===c||-1=="\"\\/bfnrtu".indexOf(c)){escaped+="\\"}escaped+=c}else if("\""==c){escaped+="\\\""}else{escaped+=c}i++}return escaped};var AppendNode=appendNodeFactory(Node);module.exports=Node},function(module){module.exports=function naturalSort(a,b){"use strict";var re=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,sre=/(^[ ]*|[ ]*$)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,hre=/^0x[0-9a-f]+$/i,ore=/^0/,i=function(s){return naturalSort.insensitive&&(""+s).toLowerCase()||""+s},x=i(a).replace(sre,"")||"",y=i(b).replace(sre,"")||"",xN=x.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),yN=y.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),xD=parseInt(x.match(hre),16)||1!==xN.length&&x.match(dre)&&Date.parse(x),yD=parseInt(y.match(hre),16)||xD&&y.match(dre)&&Date.parse(y)||null,oFxNcL,oFyNcL;if(yD){if(xD<yD){return-1}else if(xD>yD){return 1}}for(var cLoc=0,numS=_Mathmax(xN.length,yN.length);cLoc<numS;cLoc++){oFxNcL=!(xN[cLoc]||"").match(ore)&&parseFloat(xN[cLoc])||xN[cLoc]||0;oFyNcL=!(yN[cLoc]||"").match(ore)&&parseFloat(yN[cLoc])||yN[cLoc]||0;if(isNaN(oFxNcL)!==isNaN(oFyNcL)){return isNaN(oFxNcL)?1:-1}else if(babelHelpers.typeof(oFxNcL)!==babelHelpers.typeof(oFyNcL)){oFxNcL+="";oFyNcL+=""}if(oFxNcL<oFyNcL){return-1}if(oFxNcL>oFyNcL){return 1}}return 0}},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(4),ContextMenu=__webpack_require__(7);module.exports=function(Node){function AppendNode(editor){this.editor=editor;this.dom={}}AppendNode.prototype=new Node;AppendNode.prototype.getDom=function(){var dom=this.dom;if(dom.tr){return dom.tr}this._updateEditability();var trAppend=document.createElement("tr");trAppend.node=this;dom.tr=trAppend;if("tree"===this.editor.options.mode){dom.tdDrag=document.createElement("td");var tdMenu=document.createElement("td");dom.tdMenu=tdMenu;var menu=document.createElement("button");menu.type="button";menu.className="jsoneditor-contextmenu";menu.title="Click to open the actions menu (Ctrl+M)";dom.menu=menu;tdMenu.appendChild(dom.menu)}var tdAppend=document.createElement("td"),domText=document.createElement("div");domText.innerHTML="(empty)";domText.className="jsoneditor-readonly";tdAppend.appendChild(domText);dom.td=tdAppend;dom.text=domText;this.updateDom();return trAppend};AppendNode.prototype.updateDom=function(){var dom=this.dom,tdAppend=dom.td;if(tdAppend){tdAppend.style.paddingLeft=24*this.getLevel()+26+"px"}var domText=dom.text;if(domText){domText.innerHTML="(empty "+this.parent.type+")"}var trAppend=dom.tr;if(!this.isVisible()){if(dom.tr.firstChild){if(dom.tdDrag){trAppend.removeChild(dom.tdDrag)}if(dom.tdMenu){trAppend.removeChild(dom.tdMenu)}trAppend.removeChild(tdAppend)}}else{if(!dom.tr.firstChild){if(dom.tdDrag){trAppend.appendChild(dom.tdDrag)}if(dom.tdMenu){trAppend.appendChild(dom.tdMenu)}trAppend.appendChild(tdAppend)}}};AppendNode.prototype.isVisible=function(){return 0==this.parent.childs.length};AppendNode.prototype.showContextMenu=function(anchor,onClose){var node=this,titles=Node.TYPE_TITLES,items=[{text:"Append",title:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",submenuTitle:"Select the type of the field to be appended",className:"jsoneditor-insert",click:function click(){node._onAppend("","","auto")},submenu:[{text:"Auto",className:"jsoneditor-type-auto",title:titles.auto,click:function click(){node._onAppend("","","auto")}},{text:"Array",className:"jsoneditor-type-array",title:titles.array,click:function click(){node._onAppend("",[])}},{text:"Object",className:"jsoneditor-type-object",title:titles.object,click:function click(){node._onAppend("",{})}},{text:"String",className:"jsoneditor-type-string",title:titles.string,click:function click(){node._onAppend("","","string")}}]}],menu=new ContextMenu(items,{close:onClose});menu.show(anchor,this.editor.content)};AppendNode.prototype.onEvent=function(event){var type=event.type,target=event.target||event.srcElement,dom=this.dom,menu=dom.menu;if(target==menu){if("mouseover"==type){this.editor.highlighter.highlight(this.parent)}else if("mouseout"==type){this.editor.highlighter.unhighlight()}}if("click"==type&&target==dom.menu){var highlighter=this.editor.highlighter;highlighter.highlight(this.parent);highlighter.lock();util.addClassName(dom.menu,"jsoneditor-selected");this.showContextMenu(dom.menu,function(){util.removeClassName(dom.menu,"jsoneditor-selected");highlighter.unlock();highlighter.unhighlight()})}if("keydown"==type){this.onKeyDown(event)}};return AppendNode}},function(module,exports,__webpack_require__){"use strict";var ContextMenu=__webpack_require__(7);function ModeSwitcher(container,modes,current,onSwitch){for(var availableModes={code:{text:"Code",title:"Switch to code highlighter",click:function click(){onSwitch("code")}},form:{text:"Form",title:"Switch to form editor",click:function click(){onSwitch("form")}},text:{text:"Text",title:"Switch to plain text editor",click:function click(){onSwitch("text")}},tree:{text:"Tree",title:"Switch to tree editor",click:function click(){onSwitch("tree")}},view:{text:"View",title:"Switch to tree view",click:function click(){onSwitch("view")}}},items=[],i=0;i<modes.length;i++){var mode=modes[i],item=availableModes[mode];if(!item){throw new Error("Unknown mode \""+mode+"\"")}item.className="jsoneditor-type-modes"+(current==mode?" jsoneditor-selected":"");items.push(item)}var currentMode=availableModes[current];if(!currentMode){throw new Error("Unknown mode \""+current+"\"")}var currentTitle=currentMode.text,box=document.createElement("button");box.type="button";box.className="jsoneditor-modes jsoneditor-separator";box.innerHTML=currentTitle+" &#x25BE;";box.title="Switch editor mode";box.onclick=function(){var menu=new ContextMenu(items);menu.show(box)};var frame=document.createElement("div");frame.className="jsoneditor-modes";frame.style.position="relative";frame.appendChild(box);container.appendChild(frame);this.dom={container:container,box:box,frame:frame}}ModeSwitcher.prototype.focus=function(){this.dom.box.focus()};ModeSwitcher.prototype.destroy=function(){if(this.dom&&this.dom.frame&&this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}this.dom=null};module.exports=ModeSwitcher},function(module,exports,__webpack_require__){"use strict";var ace;try{ace=__webpack_require__(13)}catch(err){}var ModeSwitcher=__webpack_require__(11),util=__webpack_require__(4),textmode={},MAX_ERRORS=3,DEFAULT_THEME="ace/theme/jsoneditor";textmode.create=function(container,options){options=options||{};this.options=options;if(options.indentation){this.indentation=+options.indentation}else{this.indentation=2}var _ace=options.ace?options.ace:ace;this.mode="code"==options.mode?"code":"text";if("code"==this.mode){if("undefined"===typeof _ace){this.mode="text";console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")}}this.theme=options.theme||DEFAULT_THEME;if(this.theme===DEFAULT_THEME&&window.ace){__webpack_require__(17)}var me=this;this.container=container;this.dom={};this.aceEditor=void 0;this.textarea=void 0;this.validateSchema=null;this._debouncedValidate=util.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL);this.width=container.clientWidth;this.height=container.clientHeight;this.frame=document.createElement("div");this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode;this.frame.onclick=function(event){event.preventDefault()};this.frame.onkeydown=function(event){me._onKeyDown(event)};this.menu=document.createElement("div");this.menu.className="jsoneditor-menu";this.frame.appendChild(this.menu);var buttonFormat=document.createElement("button");buttonFormat.type="button";buttonFormat.className="jsoneditor-format";buttonFormat.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)";this.menu.appendChild(buttonFormat);buttonFormat.onclick=function(){try{me.format();me._onChange()}catch(err){me._onError(err)}};var buttonCompact=document.createElement("button");buttonCompact.type="button";buttonCompact.className="jsoneditor-compact";buttonCompact.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)";this.menu.appendChild(buttonCompact);buttonCompact.onclick=function(){try{me.compact();me._onChange()}catch(err){me._onError(err)}};if(this.options&&this.options.modes&&this.options.modes.length){this.modeSwitcher=new ModeSwitcher(this.menu,this.options.modes,this.options.mode,function(mode){me.setMode(mode);me.modeSwitcher.focus()})}this.content=document.createElement("div");this.content.className="jsoneditor-outer";this.frame.appendChild(this.content);this.container.appendChild(this.frame);if("code"==this.mode){this.editorDom=document.createElement("div");this.editorDom.style.height="100%";this.editorDom.style.width="100%";this.content.appendChild(this.editorDom);var aceEditor=_ace.edit(this.editorDom);aceEditor.$blockScrolling=Infinity;aceEditor.setTheme(this.theme);aceEditor.setShowPrintMargin(!1);aceEditor.setFontSize(13);aceEditor.getSession().setMode("ace/mode/json");aceEditor.getSession().setTabSize(this.indentation);aceEditor.getSession().setUseSoftTabs(!0);aceEditor.getSession().setUseWrapMode(!0);aceEditor.commands.bindKey("Ctrl-L",null);aceEditor.commands.bindKey("Command-L",null);this.aceEditor=aceEditor;if(!this.hasOwnProperty("editor")){Object.defineProperty(this,"editor",{get:function get(){console.warn("Property \"editor\" has been renamed to \"aceEditor\".");return me.aceEditor},set:function set(aceEditor){console.warn("Property \"editor\" has been renamed to \"aceEditor\".");me.aceEditor=aceEditor}})}var poweredBy=document.createElement("a");poweredBy.appendChild(document.createTextNode("powered by ace"));poweredBy.href="http://ace.ajax.org";poweredBy.target="_blank";poweredBy.className="jsoneditor-poweredBy";poweredBy.onclick=function(){window.open(poweredBy.href,poweredBy.target)};this.menu.appendChild(poweredBy);aceEditor.on("change",this._onChange.bind(this))}else{var textarea=document.createElement("textarea");textarea.className="jsoneditor-text";textarea.spellcheck=!1;this.content.appendChild(textarea);this.textarea=textarea;if(null===this.textarea.oninput){this.textarea.oninput=this._onChange.bind(this)}else{this.textarea.onchange=this._onChange.bind(this)}}this.setSchema(this.options.schema)};textmode._onChange=function(){this._debouncedValidate();if(this.options.onChange){try{this.options.onChange()}catch(err){console.error("Error in onChange callback: ",err)}}};textmode._onKeyDown=function(event){var keynum=event.which||event.keyCode,handled=!1;if(220==keynum&&event.ctrlKey){if(event.shiftKey){this.compact();this._onChange()}else{this.format();this._onChange()}handled=!0}if(handled){event.preventDefault();event.stopPropagation()}};textmode.destroy=function(){if(this.aceEditor){this.aceEditor.destroy();this.aceEditor=null}if(this.frame&&this.container&&this.frame.parentNode==this.container){this.container.removeChild(this.frame)}if(this.modeSwitcher){this.modeSwitcher.destroy();this.modeSwitcher=null}this.textarea=null;this._debouncedValidate=null};textmode.compact=function(){var json=this.get(),text=JSON.stringify(json);this.setText(text)};textmode.format=function(){var json=this.get(),text=JSON.stringify(json,null,this.indentation);this.setText(text)};textmode.focus=function(){if(this.textarea){this.textarea.focus()}if(this.aceEditor){this.aceEditor.focus()}};textmode.resize=function(){if(this.aceEditor){this.aceEditor.resize(!1)}};textmode.set=function(json){this.setText(JSON.stringify(json,null,this.indentation))};textmode.get=function(){var text=this.getText(),json;try{json=util.parse(text)}catch(err){text=util.sanitize(text);json=util.parse(text)}return json};textmode.getText=function(){if(this.textarea){return this.textarea.value}if(this.aceEditor){return this.aceEditor.getValue()}return""};textmode.setText=function(jsonText){var text;if(!0===this.options.escapeUnicode){text=util.escapeUnicodeChars(jsonText)}else{text=jsonText}if(this.textarea){this.textarea.value=text}if(this.aceEditor){var originalOnChange=this.options.onChange;this.options.onChange=null;this.aceEditor.setValue(text,-1);this.options.onChange=originalOnChange}this.validate()};textmode.validate=function(){if(this.dom.validationErrors){this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors);this.dom.validationErrors=null;this.content.style.marginBottom="";this.content.style.paddingBottom=""}var doValidate=!1,errors=[],json;try{json=this.get();doValidate=!0}catch(err){}if(doValidate&&this.validateSchema){var valid=this.validateSchema(json);if(!valid){errors=this.validateSchema.errors.map(function(error){return util.improveSchemaError(error)})}}if(0<errors.length){var limit=errors.length>MAX_ERRORS;if(limit){errors=errors.slice(0,MAX_ERRORS);var hidden=this.validateSchema.errors.length-MAX_ERRORS;errors.push("("+hidden+" more errors...)")}var validationErrors=document.createElement("div");validationErrors.innerHTML="<table class=\"jsoneditor-text-errors\">"+"<tbody>"+errors.map(function(error){var message;if("string"===typeof error){message="<td colspan=\"2\"><pre>"+error+"</pre></td>"}else{message="<td>"+error.dataPath+"</td>"+"<td>"+error.message+"</td>"}return"<tr><td><button class=\"jsoneditor-schema-error\"></button></td>"+message+"</tr>"}).join("")+"</tbody>"+"</table>";this.dom.validationErrors=validationErrors;this.frame.appendChild(validationErrors);var height=validationErrors.clientHeight;this.content.style.marginBottom=-height+"px";this.content.style.paddingBottom=height+"px"}if(this.aceEditor){this.aceEditor.resize(!1)}};module.exports=[{mode:"text",mixin:textmode,data:"text",load:textmode.format},{mode:"code",mixin:textmode,data:"text",load:textmode.format}]},function(module,exports,__webpack_require__){var ace=__webpack_require__(!function(){var e=new Error("Cannot find module \"brace\"");e.code="MODULE_NOT_FOUND";throw e}());__webpack_require__(14);__webpack_require__(16);module.exports=ace},function(module,exports,__webpack_require__){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules,JsonHighlightRules=function(){this.$rules={start:[{token:"variable",regex:"[\"](?:(?:\\\\.)|(?:[^\"\\\\]))*?[\"]\\s*(?=:)"},{token:"string",regex:"\"",next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:"[^\"\\\\]+"},{token:"string",regex:"\"",next:"start"},{token:"string",regex:"",next:"start"}]}};oop.inherits(JsonHighlightRules,TextHighlightRules);exports.JsonHighlightRules=JsonHighlightRules});ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(acequire,exports){"use strict";var Range=acequire("../range").Range,MatchingBraceOutdent=function(){};(function(){this.checkOutdent=function(line,input){if(!/^\s+$/.test(line))return!1;return /^\s*\}/.test(input)};this.autoOutdent=function(doc,row){var line=doc.getLine(row),match=line.match(/^(\s*\})/);if(!match)return 0;var column=match[1].length,openBracePos=doc.findMatchingBracket({row:row,column:column});if(!openBracePos||openBracePos.row==row)return 0;var indent=this.$getIndent(doc.getLine(openBracePos.row));doc.replace(new Range(row,0,row,column-1),indent)};this.$getIndent=function(line){return line.match(/^\s*/)[0]}}).call(MatchingBraceOutdent.prototype);exports.MatchingBraceOutdent=MatchingBraceOutdent});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(acequire,exports){"use strict";var oop=acequire("../../lib/oop"),Behaviour=acequire("../behaviour").Behaviour,TokenIterator=acequire("../../token_iterator").TokenIterator,lang=acequire("../../lib/lang"),SAFE_INSERT_IN_TOKENS=["text","paren.rparen","punctuation.operator"],SAFE_INSERT_BEFORE_TOKENS=["text","paren.rparen","punctuation.operator","comment"],context,contextCache={},initContext=function(editor){var id=-1;if(editor.multiSelect){id=editor.selection.index;if(contextCache.rangeCount!=editor.multiSelect.rangeCount)contextCache={rangeCount:editor.multiSelect.rangeCount}}if(contextCache[id])return context=contextCache[id];context=contextCache[id]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},getWrapped=function(selection,selected,opening,closing){var rowDiff=selection.end.row-selection.start.row;return{text:opening+selected+closing,selection:[0,selection.start.column+1,rowDiff,selection.end.column+(rowDiff?0:1)]}},CstyleBehaviour=function(){this.add("braces","insertion",function(state,action,editor,session,text){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("{"==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&"{"!==selected&&editor.getWrapBehavioursEnabled()){return getWrapped(selection,selected,"{","}")}else if(CstyleBehaviour.isSaneInsertion(editor,session)){if(/[\]\}\)]/.test(line[cursor.column])||editor.inMultiSelectMode){CstyleBehaviour.recordAutoInsert(editor,session,"}");return{text:"{}",selection:[1,1]}}else{CstyleBehaviour.recordMaybeInsert(editor,session,"{");return{text:"{",selection:[1,1]}}}}else if("}"==text){initContext(editor);var rightChar=line.substring(cursor.column,cursor.column+1);if("}"==rightChar){var matching=session.$findOpeningBracket("}",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}else if("\n"==text||"\r\n"==text){initContext(editor);var closing="";if(CstyleBehaviour.isMaybeInsertedClosing(cursor,line)){closing=lang.stringRepeat("}",context.maybeInsertedBrackets);CstyleBehaviour.clearMaybeInsertedClosing()}var rightChar=line.substring(cursor.column,cursor.column+1);if("}"===rightChar){var openBracePos=session.findMatchingBracket({row:cursor.row,column:cursor.column+1},"}");if(!openBracePos)return null;var next_indent=this.$getIndent(session.getLine(openBracePos.row))}else if(closing){var next_indent=this.$getIndent(line)}else{CstyleBehaviour.clearMaybeInsertedClosing();return}var indent=next_indent+session.getTabString();return{text:"\n"+indent+"\n"+next_indent+closing,selection:[1,indent.length,1,indent.length]}}else{CstyleBehaviour.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"{"==selected){initContext(editor);var line=session.doc.getLine(range.start.row),rightChar=line.substring(range.end.column,range.end.column+1);if("}"==rightChar){range.end.column++;return range}else{context.maybeInsertedBrackets--}}});this.add("parens","insertion",function(state,action,editor,session,text){if("("==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled()){return getWrapped(selection,selected,"(",")")}else if(CstyleBehaviour.isSaneInsertion(editor,session)){CstyleBehaviour.recordAutoInsert(editor,session,")");return{text:"()",selection:[1,1]}}}else if(")"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),rightChar=line.substring(cursor.column,cursor.column+1);if(")"==rightChar){var matching=session.$findOpeningBracket(")",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}});this.add("parens","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"("==selected){initContext(editor);var line=session.doc.getLine(range.start.row),rightChar=line.substring(range.start.column+1,range.start.column+2);if(")"==rightChar){range.end.column++;return range}}});this.add("brackets","insertion",function(state,action,editor,session,text){if("["==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled()){return getWrapped(selection,selected,"[","]")}else if(CstyleBehaviour.isSaneInsertion(editor,session)){CstyleBehaviour.recordAutoInsert(editor,session,"]");return{text:"[]",selection:[1,1]}}}else if("]"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),rightChar=line.substring(cursor.column,cursor.column+1);if("]"==rightChar){var matching=session.$findOpeningBracket("]",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}});this.add("brackets","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"["==selected){initContext(editor);var line=session.doc.getLine(range.start.row),rightChar=line.substring(range.start.column+1,range.start.column+2);if("]"==rightChar){range.end.column++;return range}}});this.add("string_dquotes","insertion",function(state,action,editor,session,text){if("\""==text||"'"==text){initContext(editor);var quote=text,selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&"'"!==selected&&"\""!=selected&&editor.getWrapBehavioursEnabled()){return getWrapped(selection,selected,quote,quote)}else if(!selected){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),leftChar=line.substring(cursor.column-1,cursor.column),rightChar=line.substring(cursor.column,cursor.column+1),token=session.getTokenAt(cursor.row,cursor.column),rightToken=session.getTokenAt(cursor.row,cursor.column+1);if("\\"==leftChar&&token&&/escape/.test(token.type))return null;var stringBefore=token&&/string|escape/.test(token.type),stringAfter=!rightToken||/string|escape/.test(rightToken.type),pair;if(rightChar==quote){pair=stringBefore!==stringAfter}else{if(stringBefore&&!stringAfter)return null;if(stringBefore&&stringAfter)return null;var wordRe=session.$mode.tokenRe;wordRe.lastIndex=0;var isWordBefore=wordRe.test(leftChar);wordRe.lastIndex=0;var isWordAfter=wordRe.test(leftChar);if(isWordBefore||isWordAfter)return null;if(rightChar&&!/[\s;,.})\]\\]/.test(rightChar))return null;pair=!0}return{text:pair?quote+quote:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&("\""==selected||"'"==selected)){initContext(editor);var line=session.doc.getLine(range.start.row),rightChar=line.substring(range.start.column+1,range.start.column+2);if(rightChar==selected){range.end.column++;return range}}})};CstyleBehaviour.isSaneInsertion=function(editor,session){var cursor=editor.getCursorPosition(),iterator=new TokenIterator(session,cursor.row,cursor.column);if(!this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS)){var iterator2=new TokenIterator(session,cursor.row,cursor.column+1);if(!this.$matchTokenType(iterator2.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS))return!1}iterator.stepForward();return iterator.getCurrentTokenRow()!==cursor.row||this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_BEFORE_TOKENS)};CstyleBehaviour.$matchTokenType=function(token,types){return-1<types.indexOf(token.type||token)};CstyleBehaviour.recordAutoInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if(!this.isAutoInsertedClosing(cursor,line,context.autoInsertedLineEnd[0]))context.autoInsertedBrackets=0;context.autoInsertedRow=cursor.row;context.autoInsertedLineEnd=bracket+line.substr(cursor.column);context.autoInsertedBrackets++};CstyleBehaviour.recordMaybeInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if(!this.isMaybeInsertedClosing(cursor,line))context.maybeInsertedBrackets=0;context.maybeInsertedRow=cursor.row;context.maybeInsertedLineStart=line.substr(0,cursor.column)+bracket;context.maybeInsertedLineEnd=line.substr(cursor.column);context.maybeInsertedBrackets++};CstyleBehaviour.isAutoInsertedClosing=function(cursor,line,bracket){return 0<context.autoInsertedBrackets&&cursor.row===context.autoInsertedRow&&bracket===context.autoInsertedLineEnd[0]&&line.substr(cursor.column)===context.autoInsertedLineEnd};CstyleBehaviour.isMaybeInsertedClosing=function(cursor,line){return 0<context.maybeInsertedBrackets&&cursor.row===context.maybeInsertedRow&&line.substr(cursor.column)===context.maybeInsertedLineEnd&&line.substr(0,cursor.column)==context.maybeInsertedLineStart};CstyleBehaviour.popAutoInsertedClosing=function(){context.autoInsertedLineEnd=context.autoInsertedLineEnd.substr(1);context.autoInsertedBrackets--};CstyleBehaviour.clearMaybeInsertedClosing=function(){if(context){context.maybeInsertedBrackets=0;context.maybeInsertedRow=-1}};oop.inherits(CstyleBehaviour,Behaviour);exports.CstyleBehaviour=CstyleBehaviour});ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(acequire,exports){"use strict";var oop=acequire("../../lib/oop"),Range=acequire("../../range").Range,BaseFoldMode=acequire("./fold_mode").FoldMode,FoldMode=exports.FoldMode=function(commentRegex){if(commentRegex){this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.start));this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.end))}};oop.inherits(FoldMode,BaseFoldMode);(function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/;this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/;this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/;this._getFoldWidgetBase=this.getFoldWidget;this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);if(this.singleLineBlockCommentRe.test(line)){if(!this.startRegionRe.test(line)&&!this.tripleStarBlockCommentRe.test(line))return""}var fw=this._getFoldWidgetBase(session,foldStyle,row);if(!fw&&this.startRegionRe.test(line))return"start";return fw};this.getFoldWidgetRange=function(session,foldStyle,row,forceMultiline){var line=session.getLine(row);if(this.startRegionRe.test(line))return this.getCommentRegionBlock(session,line,row);var match=line.match(this.foldingStartMarker);if(match){var i=match.index;if(match[1])return this.openingBracketBlock(session,match[1],row,i);var range=session.getCommentFoldRange(row,i+match[0].length,1);if(range&&!range.isMultiLine()){if(forceMultiline){range=this.getSectionRange(session,row)}else if("all"!=foldStyle)range=null}return range}if("markbegin"===foldStyle)return;var match=line.match(this.foldingStopMarker);if(match){var i=match.index+match[0].length;if(match[1])return this.closingBracketBlock(session,match[1],row,i);return session.getCommentFoldRange(row,i,-1)}};this.getSectionRange=function(session,row){var line=session.getLine(row),startIndent=line.search(/\S/),startRow=row,startColumn=line.length;row=row+1;var endRow=row,maxRow=session.getLength();while(++row<maxRow){line=session.getLine(row);var indent=line.search(/\S/);if(-1===indent)continue;if(startIndent>indent)break;var subRange=this.getFoldWidgetRange(session,"all",row);if(subRange){if(subRange.start.row<=startRow){break}else if(subRange.isMultiLine()){row=subRange.end.row}else if(startIndent==indent){break}}endRow=row}return new Range(startRow,startColumn,endRow,session.getLine(endRow).length)};this.getCommentRegionBlock=function(session,line,row){var startColumn=line.search(/\s*$/),maxRow=session.getLength(),startRow=row,re=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,depth=1;while(++row<maxRow){line=session.getLine(row);var m=re.exec(line);if(!m)continue;if(m[1])depth--;else depth++;if(!depth)break}var endRow=row;if(endRow>startRow){return new Range(startRow,startColumn,endRow,line.length)}}}).call(FoldMode.prototype)});ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),TextMode=acequire("./text").Mode,HighlightRules=acequire("./json_highlight_rules").JsonHighlightRules,MatchingBraceOutdent=acequire("./matching_brace_outdent").MatchingBraceOutdent,CstyleBehaviour=acequire("./behaviour/cstyle").CstyleBehaviour,CStyleFoldMode=acequire("./folding/cstyle").FoldMode,WorkerClient=acequire("../worker/worker_client").WorkerClient,Mode=function(){this.HighlightRules=HighlightRules;this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode};oop.inherits(Mode,TextMode);(function(){this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if("start"==state){var match=line.match(/^.*[\{\(\[]\s*$/);if(match){indent+=tab}}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.createWorker=function(session){var worker=new WorkerClient(["ace"],__webpack_require__(15),"JsonWorker");worker.attachToDocument(session.getDocument());worker.on("annotate",function(e){session.setAnnotations(e.data)});worker.on("terminate",function(){session.clearAnnotations()});return worker};this.$id="ace/mode/json"}).call(Mode.prototype);exports.Mode=Mode})},function(module){module.exports.id="ace/mode/json_worker";module.exports.src="\"no use strict\";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\"\";testPath;){var alias=paths[testPath];if(\"string\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,\"/\")+(tail||alias.main||alias.name);if(alias===!1)return\"\";var i=testPath.lastIndexOf(\"/\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\"error\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return window.normalizeModule(parentId,chunks[0])+\"!\"+window.normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=(base?base+\"/\":\"\")+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,\"\").replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\"unable to load \"+id);var path=resolveModuleId(id,window.acequire.tlns);return\".js\"!=path.slice(-3)&&(path+=\".js\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\"function\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\"require\",\"exports\",\"module\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\"require\":return req;case\"exports\":return module.exports;case\"module\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\"ace/lib/event_emitter\").EventEmitter,oop=window.acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\"Unknown command:\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\"\";switch(delta.action){case\"insert\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\"remove\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\"insert\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),applyDelta=acequire(\"./apply_delta\").applyDelta,EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(textOrLines){this.$lines=[\"\"],0===textOrLines.length?this.$lines=[\"\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(position,[\"\",\"\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\"insert\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\"\"]),column=0):(lines=[\"\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\"insert\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\"remove\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\"insert\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\"change\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\"\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\"insert\"==delta.action?\"remove\":\"insert\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\"object\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){\"use strict\";acequire(\"../range\").Range;var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\"insert\",start:data[i],lines:data[i+1]};else var d={action:\"remove\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\"ace/mode/json/json_parse\",[\"require\",\"exports\",\"module\"],function(){\"use strict\";var at,ch,text,value,escapee={'\"':'\"',\"\\\\\":\"\\\\\",\"/\":\"/\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\t\"},error=function(m){throw{name:\"SyntaxError\",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error(\"Expected '\"+c+\"' instead of '\"+ch+\"'\"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string=\"\";for(\"-\"===ch&&(string=\"-\",next(\"-\"));ch>=\"0\"&&\"9\">=ch;)string+=ch,next();if(\".\"===ch)for(string+=\".\";next()&&ch>=\"0\"&&\"9\">=ch;)string+=ch;if(\"e\"===ch||\"E\"===ch)for(string+=ch,next(),(\"-\"===ch||\"+\"===ch)&&(string+=ch,next());ch>=\"0\"&&\"9\">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error(\"Bad number\"),void 0):number},string=function(){var hex,i,uffff,string=\"\";if('\"'===ch)for(;next();){if('\"'===ch)return next(),string;if(\"\\\\\"===ch)if(next(),\"u\"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if(\"string\"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error(\"Bad string\")},white=function(){for(;ch&&\" \">=ch;)next()},word=function(){switch(ch){case\"t\":return next(\"t\"),next(\"r\"),next(\"u\"),next(\"e\"),!0;case\"f\":return next(\"f\"),next(\"a\"),next(\"l\"),next(\"s\"),next(\"e\"),!1;case\"n\":return next(\"n\"),next(\"u\"),next(\"l\"),next(\"l\"),null}error(\"Unexpected '\"+ch+\"'\")},array=function(){var array=[];if(\"[\"===ch){if(next(\"[\"),white(),\"]\"===ch)return next(\"]\"),array;for(;ch;){if(array.push(value()),white(),\"]\"===ch)return next(\"]\"),array;next(\",\"),white()}}error(\"Bad array\")},object=function(){var key,object={};if(\"{\"===ch){if(next(\"{\"),white(),\"}\"===ch)return next(\"}\"),object;for(;ch;){if(key=string(),white(),next(\":\"),Object.hasOwnProperty.call(object,key)&&error('Duplicate key \"'+key+'\"'),object[key]=value(),white(),\"}\"===ch)return next(\"}\"),object;next(\",\"),white()}}error(\"Bad object\")};return value=function(){switch(white(),ch){case\"{\":return object();case\"[\":return array();case'\"':return string();case\"-\":return number();default:return ch>=\"0\"&&\"9\">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=\" \",result=value(),white(),ch&&error(\"Syntax error\"),\"function\"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&\"object\"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({\"\":result},\"\"):result}}),ace.define(\"ace/mode/json_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/json/json_parse\"],function(acequire,exports){\"use strict\";var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,parse=acequire(\"./json/json_parse\"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:\"error\"})}this.sender.emit(\"annotate\",errors)}}.call(JsonWorker.prototype)}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\x0B\\f\\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\\u2028\\u2029\uFEFF\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}});"},function(){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(acequire,exports){"use strict";var dom=acequire("../lib/dom"),lang=acequire("../lib/lang"),event=acequire("../lib/event"),HashHandler=acequire("../keyboard/hash_handler").HashHandler,keyUtil=acequire("../lib/keys");dom.importCssString("\t.ace_search {\tbackground-color: #ddd;\tborder: 1px solid #cbcbcb;\tborder-top: 0 none;\tmax-width: 325px;\toverflow: hidden;\tmargin: 0;\tpadding: 4px;\tpadding-right: 6px;\tpadding-bottom: 0;\tposition: absolute;\ttop: 0px;\tz-index: 99;\twhite-space: normal;\t}\t.ace_search.left {\tborder-left: 0 none;\tborder-radius: 0px 0px 5px 0px;\tleft: 0;\t}\t.ace_search.right {\tborder-radius: 0px 0px 0px 5px;\tborder-right: 0 none;\tright: 0;\t}\t.ace_search_form, .ace_replace_form {\tborder-radius: 3px;\tborder: 1px solid #cbcbcb;\tfloat: left;\tmargin-bottom: 4px;\toverflow: hidden;\t}\t.ace_search_form.ace_nomatch {\toutline: 1px solid red;\t}\t.ace_search_field {\tbackground-color: white;\tborder-right: 1px solid #cbcbcb;\tborder: 0 none;\t-webkit-box-sizing: border-box;\t-moz-box-sizing: border-box;\tbox-sizing: border-box;\tfloat: left;\theight: 22px;\toutline: 0;\tpadding: 0 7px;\twidth: 214px;\tmargin: 0;\t}\t.ace_searchbtn,\t.ace_replacebtn {\tbackground: #fff;\tborder: 0 none;\tborder-left: 1px solid #dcdcdc;\tcursor: pointer;\tfloat: left;\theight: 22px;\tmargin: 0;\tposition: relative;\t}\t.ace_searchbtn:last-child,\t.ace_replacebtn:last-child {\tborder-top-right-radius: 3px;\tborder-bottom-right-radius: 3px;\t}\t.ace_searchbtn:disabled {\tbackground: none;\tcursor: default;\t}\t.ace_searchbtn {\tbackground-position: 50% 50%;\tbackground-repeat: no-repeat;\twidth: 27px;\t}\t.ace_searchbtn.prev {\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    \t}\t.ace_searchbtn.next {\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    \t}\t.ace_searchbtn_close {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\tborder-radius: 50%;\tborder: 0 none;\tcolor: #656565;\tcursor: pointer;\tfloat: right;\tfont: 16px/16px Arial;\theight: 14px;\tmargin: 5px 1px 9px 5px;\tpadding: 0;\ttext-align: center;\twidth: 14px;\t}\t.ace_searchbtn_close:hover {\tbackground-color: #656565;\tbackground-position: 50% 100%;\tcolor: white;\t}\t.ace_replacebtn.prev {\twidth: 54px\t}\t.ace_replacebtn.next {\twidth: 27px\t}\t.ace_button {\tmargin-left: 2px;\tcursor: pointer;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\toverflow: hidden;\topacity: 0.7;\tborder: 1px solid rgba(100,100,100,0.23);\tpadding: 1px;\t-moz-box-sizing: border-box;\tbox-sizing:    border-box;\tcolor: black;\t}\t.ace_button:hover {\tbackground-color: #eee;\topacity:1;\t}\t.ace_button:active {\tbackground-color: #ddd;\t}\t.ace_button.checked {\tborder-color: #3399ff;\topacity:1;\t}\t.ace_search_options{\tmargin-bottom: 3px;\ttext-align: right;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\t}","ace_searchbox");var html="<div class=\"ace_search right\">\t    <button type=\"button\" action=\"hide\" class=\"ace_searchbtn_close\"></button>\t    <div class=\"ace_search_form\">\t        <input class=\"ace_search_field\" placeholder=\"Search for\" spellcheck=\"false\"></input>\t        <button type=\"button\" action=\"findNext\" class=\"ace_searchbtn next\"></button>\t        <button type=\"button\" action=\"findPrev\" class=\"ace_searchbtn prev\"></button>\t        <button type=\"button\" action=\"findAll\" class=\"ace_searchbtn\" title=\"Alt-Enter\">All</button>\t    </div>\t    <div class=\"ace_replace_form\">\t        <input class=\"ace_search_field\" placeholder=\"Replace with\" spellcheck=\"false\"></input>\t        <button type=\"button\" action=\"replaceAndFindNext\" class=\"ace_replacebtn\">Replace</button>\t        <button type=\"button\" action=\"replaceAll\" class=\"ace_replacebtn\">All</button>\t    </div>\t    <div class=\"ace_search_options\">\t        <span action=\"toggleRegexpMode\" class=\"ace_button\" title=\"RegExp Search\">.*</span>\t        <span action=\"toggleCaseSensitive\" class=\"ace_button\" title=\"CaseSensitive Search\">Aa</span>\t        <span action=\"toggleWholeWords\" class=\"ace_button\" title=\"Whole Word Search\">\\b</span>\t    </div>\t</div>".replace(/>\s+/g,">"),SearchBox=function(editor){var div=dom.createElement("div");div.innerHTML=html;this.element=div.firstChild;this.$init();this.setEditor(editor)};(function(){this.setEditor=function(editor){editor.searchBox=this;editor.container.appendChild(this.element);this.editor=editor};this.$initElements=function(sb){this.searchBox=sb.querySelector(".ace_search_form");this.replaceBox=sb.querySelector(".ace_replace_form");this.searchOptions=sb.querySelector(".ace_search_options");this.regExpOption=sb.querySelector("[action=toggleRegexpMode]");this.caseSensitiveOption=sb.querySelector("[action=toggleCaseSensitive]");this.wholeWordOption=sb.querySelector("[action=toggleWholeWords]");this.searchInput=this.searchBox.querySelector(".ace_search_field");this.replaceInput=this.replaceBox.querySelector(".ace_search_field")};this.$init=function(){var sb=this.element;this.$initElements(sb);var _this=this;event.addListener(sb,"mousedown",function(e){setTimeout(function(){_this.activeInput.focus()},0);event.stopPropagation(e)});event.addListener(sb,"click",function(e){var t=e.target||e.srcElement,action=t.getAttribute("action");if(action&&_this[action])_this[action]();else if(_this.$searchBarKb.commands[action])_this.$searchBarKb.commands[action].exec(_this);event.stopPropagation(e)});event.addCommandKeyListener(sb,function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode),command=_this.$searchBarKb.findKeyCommand(hashId,keyString);if(command&&command.exec){command.exec(_this);event.stopEvent(e)}});this.$onChange=lang.delayedCall(function(){_this.find(!1,!1)});event.addListener(this.searchInput,"input",function(){_this.$onChange.schedule(20)});event.addListener(this.searchInput,"focus",function(){_this.activeInput=_this.searchInput;_this.searchInput.value&&_this.highlight()});event.addListener(this.replaceInput,"focus",function(){_this.activeInput=_this.replaceInput;_this.searchInput.value&&_this.highlight()})};this.$closeSearchBarKb=new HashHandler([{bindKey:"Esc",name:"closeSearchBar",exec:function exec(editor){editor.searchBox.hide()}}]);this.$searchBarKb=new HashHandler;this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function CtrlFCommandF(sb){var isReplace=sb.isReplace=!sb.isReplace;sb.replaceBox.style.display=isReplace?"":"none";sb.searchInput.focus()},"Ctrl-H|Command-Option-F":function CtrlHCommandOptionF(sb){sb.replaceBox.style.display="";sb.replaceInput.focus()},"Ctrl-G|Command-G":function CtrlGCommandG(sb){sb.findNext()},"Ctrl-Shift-G|Command-Shift-G":function CtrlShiftGCommandShiftG(sb){sb.findPrev()},esc:function esc(sb){setTimeout(function(){sb.hide()})},Return:function Return(sb){if(sb.activeInput==sb.replaceInput)sb.replace();sb.findNext()},"Shift-Return":function ShiftReturn(sb){if(sb.activeInput==sb.replaceInput)sb.replace();sb.findPrev()},"Alt-Return":function AltReturn(sb){if(sb.activeInput==sb.replaceInput)sb.replaceAll();sb.findAll()},Tab:function Tab(sb){(sb.activeInput==sb.replaceInput?sb.searchInput:sb.replaceInput).focus()}});this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function exec(sb){sb.regExpOption.checked=!sb.regExpOption.checked;sb.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function exec(sb){sb.caseSensitiveOption.checked=!sb.caseSensitiveOption.checked;sb.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function exec(sb){sb.wholeWordOption.checked=!sb.wholeWordOption.checked;sb.$syncOptions()}}]);this.$syncOptions=function(){dom.setCssClass(this.regExpOption,"checked",this.regExpOption.checked);dom.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked);dom.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);this.find(!1,!1)};this.highlight=function(re){this.editor.session.highlight(re||this.editor.$search.$options.re);this.editor.renderer.updateBackMarkers()};this.find=function(skipCurrent,backwards,preventScroll){var range=this.editor.find(this.searchInput.value,{skipCurrent:skipCurrent,backwards:backwards,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:preventScroll}),noMatch=!range&&this.searchInput.value;dom.setCssClass(this.searchBox,"ace_nomatch",noMatch);this.editor._emit("findSearchBox",{match:!noMatch});this.highlight()};this.findNext=function(){this.find(!0,!1)};this.findPrev=function(){this.find(!0,!0)};this.findAll=function(){var range=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),noMatch=!range&&this.searchInput.value;dom.setCssClass(this.searchBox,"ace_nomatch",noMatch);this.editor._emit("findSearchBox",{match:!noMatch});this.highlight();this.hide()};this.replace=function(){if(!this.editor.getReadOnly())this.editor.replace(this.replaceInput.value)};this.replaceAndFindNext=function(){if(!this.editor.getReadOnly()){this.editor.replace(this.replaceInput.value);this.findNext()}};this.replaceAll=function(){if(!this.editor.getReadOnly())this.editor.replaceAll(this.replaceInput.value)};this.hide=function(){this.element.style.display="none";this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);this.editor.focus()};this.show=function(value,isReplace){this.element.style.display="";this.replaceBox.style.display=isReplace?"":"none";this.isReplace=isReplace;if(value)this.searchInput.value=value;this.find(!1,!1,!0);this.searchInput.focus();this.searchInput.select();this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)};this.isFocused=function(){var el=document.activeElement;return el==this.searchInput||el==this.replaceInput}}).call(SearchBox.prototype);exports.SearchBox=SearchBox;exports.Search=function(editor,isReplace){var sb=editor.searchBox||new SearchBox(editor);sb.show(editor.session.getTextRange(),isReplace)}});(function(){ace.acequire(["ace/ext/searchbox"],function(){})})()},function(){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(acequire,exports){exports.isDark=!1;exports.cssClass="ace-jsoneditor";exports.cssText=".ace-jsoneditor .ace_gutter {\tbackground: #ebebeb;\tcolor: #333\t}\t\t.ace-jsoneditor.ace_editor {\tfont-family: droid sans mono, consolas, monospace, courier new, courier, sans-serif;\tline-height: 1.3;\t}\t.ace-jsoneditor .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8\t}\t.ace-jsoneditor .ace_scroller {\tbackground-color: #FFFFFF\t}\t.ace-jsoneditor .ace_text-layer {\tcolor: gray\t}\t.ace-jsoneditor .ace_variable {\tcolor: #1a1a1a\t}\t.ace-jsoneditor .ace_cursor {\tborder-left: 2px solid #000000\t}\t.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\tborder-left: 0px;\tborder-bottom: 1px solid #000000\t}\t.ace-jsoneditor .ace_marker-layer .ace_selection {\tbackground: lightgray\t}\t.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #FFFFFF;\tborder-radius: 2px\t}\t.ace-jsoneditor .ace_marker-layer .ace_step {\tbackground: rgb(255, 255, 0)\t}\t.ace-jsoneditor .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #BFBFBF\t}\t.ace-jsoneditor .ace_marker-layer .ace_active-line {\tbackground: #FFFBD1\t}\t.ace-jsoneditor .ace_gutter-active-line {\tbackground-color : #dcdcdc\t}\t.ace-jsoneditor .ace_marker-layer .ace_selected-word {\tborder: 1px solid lightgray\t}\t.ace-jsoneditor .ace_invisible {\tcolor: #BFBFBF\t}\t.ace-jsoneditor .ace_keyword,\t.ace-jsoneditor .ace_meta,\t.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\tcolor: #AF956F\t}\t.ace-jsoneditor .ace_keyword.ace_operator {\tcolor: #484848\t}\t.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\tcolor: #96DC5F\t}\t.ace-jsoneditor .ace_constant.ace_language {\tcolor: darkorange\t}\t.ace-jsoneditor .ace_constant.ace_numeric {\tcolor: red\t}\t.ace-jsoneditor .ace_constant.ace_character.ace_entity {\tcolor: #BF78CC\t}\t.ace-jsoneditor .ace_invalid {\tcolor: #FFFFFF;\tbackground-color: #FF002A;\t}\t.ace-jsoneditor .ace_fold {\tbackground-color: #AF956F;\tborder-color: #000000\t}\t.ace-jsoneditor .ace_storage,\t.ace-jsoneditor .ace_support.ace_class,\t.ace-jsoneditor .ace_support.ace_function,\t.ace-jsoneditor .ace_support.ace_other,\t.ace-jsoneditor .ace_support.ace_type {\tcolor: #C52727\t}\t.ace-jsoneditor .ace_string {\tcolor: green\t}\t.ace-jsoneditor .ace_comment {\tcolor: #BCC8BA\t}\t.ace-jsoneditor .ace_entity.ace_name.ace_tag,\t.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\tcolor: #606060\t}\t.ace-jsoneditor .ace_markup.ace_underline {\ttext-decoration: underline\t}\t.ace-jsoneditor .ace_indent-guide {\tbackground: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y\t}";var dom=acequire("../lib/dom");dom.importCssString(exports.cssText,exports.cssClass)})}])});
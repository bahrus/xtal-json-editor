<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <div>
    <style>
      input {
        border: none;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
        padding: 3px;
        margin-right: 2px;
      }

      [data-type="boolean"]>input[data-var="key"] {
        background-color: #B1C639;
      }

      [data-type="object"]>input[data-var="key"] {
        background-color: #E17000;
      }

      [data-type="unknown"]>input[data-var="key"] {
        background-color: rgb(223, 181, 210);
      }
    </style>
    <template id=entity>
        <section>
            <p-d-x-get-val-type if="[data-var='value']" on=input to=[-data-type] val=target.dataset.type set-attr></p-d-x-get-val-type>
            <div -data-type data-type=unknown>
                <input data-var="key"><input data-var=value>
            </div>
        </section>      
    </template>
  <template id=object>
      <details>
          <summary>
            <button data-copy=true>Add New Value</button>
            <p-d on="click" to=[-copy] val=target.dataset.copy skip-init></p-d>
            <b-c-c -copy from=/entity noclear noshadow></b-c-c>
          </summary>
        </details>
  </template>
  <b-c-c copy from=/object noshadow></b-c-c>
    <!-- Use experimental import maps -->
    <script defer src="../node_modules/es-module-shims/dist/es-module-shims.js"></script>
    <script type="importmap-shim">
        {
          "imports": {
            "xtal-element/": "../node_modules/xtal-element/",
            "trans-render/": "../node_modules/trans-render/",
            "p-et-alia/": "../node_modules/p-et-alia/",
            "carbon-copy/": "../node_modules/carbon-copy/"
          }
        }
        </script>
    <script type="module-shim">
            import 'p-et-alia/p-d.js';
            import '../xtal-json-editor.js';
            import 'carbon-copy/b-c-c.js';
        </script>
  </div>
</body>

</html>